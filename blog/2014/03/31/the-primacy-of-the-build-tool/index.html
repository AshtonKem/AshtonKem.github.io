
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>The Primacy of the Build Tool - Ashton Kemerling</title>
  <meta name="author" content="Ashton Kemerling">

  
  <meta name="description" content="No programming language stands alone. Besides the compiler, every
programming language includes an ecosystem of libraries, build tools,
analyzers, &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.ashtonkemerling.com/blog/2014/03/31/the-primacy-of-the-build-tool">
  <link href="/favicon.ico" rel="icon">
  
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Ashton Kemerling" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<script src="https://verso-staging.herokuapp.com/client.js"></script>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-32325955-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="no-sidebar"  >
  <header role="banner"><hgroup>
  <h1>Ashton Kemerling</h1>
  
    <h2><a href="/">AK</a></h2>
  
</hgroup>

</header>
  <nav role="navigation">
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about-me">About Me</a></li>
  <li><a href="/consulting">Consulting</a></li>
  <li><a href="/resume">Resume</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">The Primacy of the Build Tool</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-31T13:55:00-07:00" pubdate data-updated="true">Mar 31<span>st</span>, 2014</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>No programming language stands alone. Besides the compiler, every
programming language includes an ecosystem of libraries, build tools,
analyzers, debuggers, and other utilities. Languages often rise and fall
depending on the quality of these tools and libraries.</p>

<p>For every language there needs to be one central item upon which every
other tool depends. In most languages, this is the compiler or
interpreter. Your Rails project is entirely dependent on the version of
Ruby provided by the current environment, and similarly Maven depends on
the version of javac and java available on the path.</p>

<p>Unfortunately, this makes our code more fragile and dependent on the
machine it was first created on. Someone cloning your code from a
different machine must take care to ensure that their development
environment is close to the original authors, and deployment must ship
the correct compilers and interpeters for production to work well. We
have created tools to help enforce the requirements of the code, but
they are fragile and make upgrading dependencies a pain, as anyone who
has had to fight with RVM can attest.</p>

<p>The one exception to this I have found is Clojure. Clojure inverts the
normal order making the build tool the central item, with the compiler
provided by the project definition file.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="p">(</span><span class="kd">defproject </span><span class="nv">foo</span> <span class="s">&quot;0.1.0-SNAPSHOT&quot;</span>
</span><span class='line'>  <span class="ss">:description</span> <span class="s">&quot;FIXME: write description&quot;</span>
</span><span class='line'>  <span class="ss">:url</span> <span class="s">&quot;http://example.com/FIXME&quot;</span>
</span><span class='line'>  <span class="ss">:license</span> <span class="p">{</span><span class="ss">:name</span> <span class="s">&quot;All Rights Reserved.&quot;</span><span class="p">}</span>
</span><span class='line'>  <span class="ss">:dependencies</span> <span class="p">[[</span><span class="nv">org.clojure/clojure</span> <span class="s">&quot;1.5.1&quot;</span><span class="p">]</span>
</span><span class='line'>                 <span class="p">[</span><span class="nv">org.clojure/clojure-contrib</span> <span class="s">&quot;1.2.0&quot;</span><span class="p">]</span>
</span><span class='line'>                 <span class="p">[</span><span class="nv">clj-time</span> <span class="s">&quot;0.6.0&quot;</span><span class="p">]]</span>
</span><span class='line'>  <span class="ss">:profiles</span> <span class="p">{</span><span class="ss">:dev</span> <span class="p">{</span><span class="ss">:dependencies</span> <span class="p">[[</span><span class="nv">midje</span> <span class="s">&quot;1.5.1&quot;</span><span class="p">]]}})</span>
</span></code></pre></td></tr></table></div></figure>


<p>The beauty of this change is that it makes setup trivial for another
developer. All they need is the same build tool, and it will deal with
the correct versions of both the compiler and any libraries for the
project. Have other projects that depend on different versions of the
compiler? The build tool only cares about the dependencies in front of
it, and will call the correct version from the correct project.</p>

<p>This also makes upgrading trivial. Want to try Clojure 1.6.0? Change
&#8220;1.5.1&#8221; to &#8220;1.6.0&#8221; in the above snippet. Want to write a library that
supports multiple versions of the compiler? The build tool supports
profiles which allow you to swap out compilers trivially because it&#8217;s
just a dependency.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="ss">:profiles</span> <span class="p">{</span><span class="ss">:1.3</span> <span class="p">{</span><span class="ss">:dependencies</span> <span class="p">[[</span><span class="nv">org.clojure/clojure</span> <span class="s">&quot;1.3.0&quot;</span><span class="p">]]}</span>
</span><span class='line'>           <span class="ss">:1.4</span> <span class="p">{</span><span class="ss">:dependencies</span> <span class="p">[[</span><span class="nv">org.clojure/clojure</span> <span class="s">&quot;1.4.0-beta1&quot;</span><span class="p">]]}}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Deployment gets easier as well. If you&#8217;re deploying an uberjar, the core
libraries you tested against are also shipped to production in the same
jar. No need to upgrade your deployment scripts when a new version of
Clojure comes out, as everything is included automatically.</p>

<p>There is one catch to this wonderfulness, which is that Clojure depends
on the JVM, and the build tool cannot change the JVM around. But Clojure
has very simple requirements, Java 1.6 or greater, which
makes it simple to deploy anywhere.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn"><a href="/about" title="About the author (Ashton Kemerling)" rel="author">Ashton Kemerling</a></span></span>

      








  


<time datetime="2014-03-31T13:55:00-07:00" pubdate data-updated="true">Mar 31<span>st</span>, 2014</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.ashtonkemerling.com/blog/2014/03/31/the-primacy-of-the-build-tool/" data-via="ashtonkemerling" data-counturl="http://www.ashtonkemerling.com/blog/2014/03/31/the-primacy-of-the-build-tool/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/03/24/disdain/" title="Previous Post: Disdain">&laquo; Disdain</a>
      
      
        <a class="basic-alignment right" href="/blog/2014/05/28/confessions-of-a-language-snob/" title="next Post: Confessions of a Language Snob">Confessions of a Language Snob &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2018 - Ashton Kemerling -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'ashtonkemerling';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://www.ashtonkemerling.com/blog/2014/03/31/the-primacy-of-the-build-tool/';
        var disqus_url = 'http://www.ashtonkemerling.com/blog/2014/03/31/the-primacy-of-the-build-tool/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
