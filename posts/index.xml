<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on Ashton Kemerling</title>
    <link>http://ashtonkemerling.com/posts/</link>
    <description>Recent content in Posts on Ashton Kemerling</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sat, 25 Feb 2023 00:00:00 +0000</lastBuildDate>
    
        <atom:link href="http://ashtonkemerling.com/posts/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Telemetry and Trust</title>
      <link>http://ashtonkemerling.com/posts/go-telemetry/</link>
      <pubDate>Sat, 25 Feb 2023 00:00:00 +0000</pubDate>
      
      <guid>http://ashtonkemerling.com/posts/go-telemetry/</guid>
      <description>&lt;p&gt;I recently read an &lt;a href=&#34;https://twi.github.io/blog/making-go-telemetry-opt-in-is-a-mistake.html&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;article&lt;/a&gt;
 about Go opt in tracking being a mistake. The author was very earnest about the pros of compiler tool chain telemetry, how it was very common among Google and Go&amp;rsquo;s competitors, and how opt in tracking would skew the data set. Their general argument was that anonymized telemetry is extremely useful for compiler writers, and that shifting Go to opt in rather than opt out doesn&amp;rsquo;t harm user safety and reduces the ability of the Go team to correctly steer their important project&lt;/p&gt;
&lt;p&gt;Reading the article I was struck by a feeling of &amp;ldquo;I&amp;rsquo;m confused
why you&amp;rsquo;re confused&amp;rdquo;&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;. The author made a ton of great points, but to me they missed the main problem completely. The issue never was telemetry, the issue was Google&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;. Very few people trust Google anymore, and therefore the problem was that the telemetry suggestion came from Google. Focusing on the pros and potential safety rails of an open telemetry system is not wrong per se, it&amp;rsquo;s just completely orthogonal to what got everyone worked up in the first place.&lt;/p&gt;
&lt;p&gt;Google as an organization has spent its credibility, both among the larger public and among engineers. It spent its credibility &lt;a href=&#34;https://www.forbes.com/sites/zakdoffman/2021/03/20/stop-using-google-chrome-on-apple-iphone-12-pro-max-ipad-and-macbook-pro/?sh=2786a7444d08&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;misleading consumers&lt;/a&gt;
 about the privacy implications of its actions, it spent its credibility by carelessly &lt;a href=&#34;https://killedbygoogle.com/&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;killing off&lt;/a&gt;
 services people loved, and it spent its credibility by &lt;a href=&#34;https://steve-yegge.medium.com/dear-google-cloud-your-deprecation-policy-is-killing-you-ee7525dc05dc&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;regularly breaking&lt;/a&gt;
 non-Google developers stuff. And like many large organizations it has made the catastrophic mistake of assuming that its size, money, and market penetration means that its credibility does not matter. And now they&amp;rsquo;re discovering exactly how wrong that assumption is.&lt;/p&gt;
&lt;p&gt;In this specific case, google is discovering that low credibility makes anything involving public consent really hard. Easy things become difficult, possible things become almost impossible, and prophecies become &lt;a href=&#34;https://techcrunch.com/2022/10/01/stadia-died-because-no-one-trusts-google/&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;self fulfilling&lt;/a&gt;
. Even when the Go team goes way out of their way to demonstrate good intentions, people don&amp;rsquo;t believe them. And of course they don&amp;rsquo;t! It&amp;rsquo;s not like we&amp;rsquo;ve all seen Google sneak in privacy defeating &amp;ldquo;features&amp;rdquo; under the guise of performance or safety before. Why shouldn&amp;rsquo;t people assume that this data collection proposal won&amp;rsquo;t be abused?&lt;/p&gt;
&lt;p&gt;No amount of promises, analysis,  or poorly advised &lt;a href=&#34;https://research.swtch.com/telemetry-opt-in&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;accusations of trolling&lt;/a&gt;
&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt; is going to overcome an issue of people not trusting you. In fact it probably makes the problem worse, not better. The only solution for low credibility is to take the long, incremental, and unpleasant steps required to repair that credibility. Opt in telemetry is probably a good step in this direction, or it would have been if they&amp;rsquo;d not been dragged kicking and screaming to it.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;I&amp;rsquo;m not actually certain if OP is confused. But this is the short hand phrase I say when some extrenal problem is immediately obvious to me, and I&amp;rsquo;m confused why someone else doesn&amp;rsquo;t focus on same thing I do.&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;I believe that the official line is that Google doesn&amp;rsquo;t own Go, it just happens to employ everyone who is on the core team. I find this unpersuasive.&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Seriously, don&amp;rsquo;t call concerned end users trolls. It will never work out for you.&amp;#160;&lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
    </item>
    
    <item>
      <title>Lets Talk About Trains</title>
      <link>http://ashtonkemerling.com/posts/lets-talk-about-trains/</link>
      <pubDate>Mon, 17 Oct 2022 00:00:00 +0000</pubDate>
      
      <guid>http://ashtonkemerling.com/posts/lets-talk-about-trains/</guid>
      <description>&lt;p&gt;Last week&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt; Casey had a &lt;a href=&#34;https://caseyhandmer.wordpress.com/2022/10/11/why-high-speed-rail-hasnt-caught-on/&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;blog about&lt;/a&gt;
 High Speed Rail (HSR), and it triggered my worst impulse: my need to argue on the Internet. Casey suggested that I write my own post rather than just being cranky in his comments, and while my initial instinct was to continue to be cranky, I must admit that he was right and I should be more contstructive.&lt;/p&gt;
&lt;p&gt;The starting point for all of this discussion is the continued boondoggle of trying to create a HSR between San Francisco and Los Angeles. Just to get this out of the way up front, there is no way in hell I would ever consider defending how this project is being implemented. I think HSR has a lot of opportunity in America, but the CA project is spending way too much&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt; for way too little compared to our peers. America needs to have a real serious &amp;ldquo;come to jesus&amp;rdquo; moment about why it&amp;rsquo;s so damned expensive to build important public goods. But how to fix that is beyond my capability.&lt;/p&gt;
&lt;p&gt;At a very high level, Casey is making two broad statements about HSR. First, he&amp;rsquo;s making an argument about the capabilities of HSR in terms of efficiency, cost, maintenance, throughput, and other factual claims about HSR. Second he is comparing HSR against its alternatives, namely roads and airports, in argument that the alternatives are superior places to spend limited social resources. Obviously the first set of arguments is used to bolster the second set of arguments. There are some colorable arguments in this piece, but there are also a lot of serious factual errors that undermine the overall point. I think once you replace all the factual errors, the net sum of evidence points to the exact opposite of what Casey argues.&lt;/p&gt;
&lt;p&gt;The clearest and least verbose&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt; way to approach this is to group Casey&amp;rsquo;s arguments into similar sections, so that I can provide counter arguments once rather than repeatedly. Therefore the pull quotes will not be in order from his post. Where reasonable, I will link to specific sources, with some exceptions for wikipedia when the source is obvious and I can&amp;rsquo;t be bothered. I pulled a lot of the numbers for European HSR from the 2009 paper &lt;a href=&#34;https://www.researchgate.net/publication/326159879_Economic_Analysis_of_High_Speed_Rail_in_Europe&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Economic Analysis of High Speed Rail in Europe&lt;/a&gt;
, and I will reference it repeatedly.&lt;/p&gt;
&lt;p&gt;And finally, a few notes on methodology. I&amp;rsquo;m going to do my level best to avoid letting Covid goose the numbers. Covid crushed transit numbers and budgets across the board and required direct federal bailouts for all kinds of industries. There was no way for any of these companies to avoid a bailout during a once in a century pandemic, so it&amp;rsquo;s not fair to judge them by extraordinary circumstances. Where possible I will either use 2019 numbers, or 2021 if they&amp;rsquo;ve rebounded to pre-pandemic levels. I will similarly be using 2020 inflation&lt;sup id=&#34;fnref:4&#34;&gt;&lt;a href=&#34;#fn:4&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;4&lt;/a&gt;&lt;/sup&gt; numbers, because the inflation in 2021 and 2022 was caused to a large degree by supply chain constraints. Exactly what percent is debatable, but I don&amp;rsquo;t think that they tell us much about how construction costs might change.&lt;/p&gt;
&lt;h1 id=&#34;high-level-misconceptions&#34;&gt;High Level Misconceptions&lt;/h1&gt;
&lt;h2 id=&#34;why-high-speed-rail-hasnt-caught-on&#34;&gt;&amp;ldquo;Why high speed rail hasn’t caught on&amp;rdquo;&lt;/h2&gt;
&lt;p&gt;The first and most obvious issue is the article&amp;rsquo;s title. I normally give blog authors a lot of leeway for clickbait titles, because I am not at all above reproach in this area. That being said the rest of the article is relatively consistent with the headline, so lets be charitable and assume that the title is indicating that HSR adoption remains minimal due to fundamental issues with HSR.&lt;/p&gt;
&lt;p&gt;This &amp;hellip; doesn&amp;rsquo;t seem very true? The list of &lt;em&gt;famous&lt;/em&gt; HSR lines is small, most people probably can only name the &amp;ldquo;Japanese bullet train&amp;rdquo; or maybe TGV if they&amp;rsquo;re a francophile, but there&amp;rsquo;s a pretty decent list of HSR lines in operation that are unknown to foreigners. Until this article put a bee in my metaphorical bonnet, I had never heard of things like the Honam HSR Line, the HSR Madrid–Barcelona, the Banqiao–Zuoying line, or the Ankara–Konya high-speed railway to pick some random examples. And why should I? The goal of any train line ought to move people, not impress random jerks like me. The fact that a lot of these are obscure to non-locals seems like a mildly positive thing, I want HSR to be unremarkable and effective, not world famous. Boring infrastructure is reliable infrastructure.&lt;/p&gt;
&lt;p&gt;Also, the list of countries with HSR is bigger than Casey implies. The size of this list creates problems for Casey&amp;rsquo;s main argument that he does not acknowledge. If the list of countries was small and similar in nature, we could potentially find mitigating circumstances to explain why HSR works in country X and not anywhere else, but that&amp;rsquo;s not the case. One might be inclined to say &amp;ldquo;China has HSR because a communist country can ignore profit and make money losing public goods&lt;sup id=&#34;fnref:5&#34;&gt;&lt;a href=&#34;#fn:5&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;5&lt;/a&gt;&lt;/sup&gt;&amp;rdquo;, but this seems to lack explanatory power for Germany and the UK. One might argue that rich countries like Germany and the UK can afford luxury goods because they are rich post-industrial powers, but then again Vietnam and Kazakhstan are planning HSR, and Japan built a lot of HSR when it was emphatically not rich and post-industrial. Perhaps the flat terrain of France and the temperate climate of Spain is why, but then again you have Japan right there, all full of mountains and seismically active as can be.&lt;/p&gt;
&lt;p&gt;Ultimately one is left struggling to explain why so many countries are doing what Casey argues they ought not be doing. All I see left is the argument that a dozen countries with wildly dissimilar economics, cultural histories, and geographic challenges are all being irrational in exactly the same way, which seems to run afoul of Occam&amp;rsquo;s Razor.&lt;/p&gt;
&lt;h2 id=&#34;what-is-hsr&#34;&gt;What Is HSR?&lt;/h2&gt;
&lt;p&gt;First off, what do even mean by &amp;ldquo;High Speed Rail&amp;rdquo;? Obviously speed seems to be part of it, so we&amp;rsquo;ll need to decide how fast a train has to be going in order to be considered &amp;ldquo;high speed&amp;rdquo;. Casey seems to draw the line at 300kph here:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Despite decades of development, only a handful of routes in Europe operate at anything like airplane-competitive speeds, which for all but the shortest routes, require &amp;gt; 300 km/h or &amp;gt; 185 mph.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;and  here&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In general, the number of &amp;gt;300 km/h HSR networks on Earth can be counted on one hand,&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;While 300kph is certainly &amp;ldquo;high speed&amp;rdquo; this is actually a pretty idiosyncratic definition of HSR. The EU defines HSR (&amp;ldquo;Category I&amp;rdquo;&lt;sup id=&#34;fnref:6&#34;&gt;&lt;a href=&#34;#fn:6&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;6&lt;/a&gt;&lt;/sup&gt;) as rails that can hit at least 250kph on purpose built lines and 200kph on upgraded pre-existing lines. Demiridis &amp;amp; Pyrgidis define HSR as having a maximum speed of exceeding 200kph and averaging over 150kph for the corridor that is being evaluated&lt;sup id=&#34;fnref:7&#34;&gt;&lt;a href=&#34;#fn:7&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;7&lt;/a&gt;&lt;/sup&gt;. These numbers are selected because these are the points where the rail precision requirements, air resistance, and pressure issues in tunnels begin to increase rapidly. Above 200kph track side signaling is no longer workable, and Positive Train Control or something equivalent becomes mandatory. Personally I think that setting the bar at 300kph and declaring HSR a failure because this is a small set of rails does not seem terribly charitable&lt;sup id=&#34;fnref:8&#34;&gt;&lt;a href=&#34;#fn:8&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;8&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;But lost in all this is the following question: why does defining HSR even matter to us? Personally I think that arguing about whether or not trains over 300kph are good or bad is putting the cart before the horse so to speak. In my opinion the goal should be to move the maximum number of people comfortably via rail for all of the reasons that even Casey acknowledges. Trains capable of exceeding 300kph and running on dedicated track is one of many tools available for achieving that goal. There will be times and places where dedicated track exceeding 300kph will be necessary for service to be competitive with alternatives. There will also be times and places where that speed is unnecessary or impossible. &amp;ldquo;The list of places that are a good fit for 300kph or faster rail service is small and mostly built out&amp;rdquo; seems like it might be stronger, but that&amp;rsquo;s not the argument Casey is making.&lt;/p&gt;
&lt;h2 id=&#34;hsr-networks-and-convenience&#34;&gt;HSR Networks and Convenience&lt;/h2&gt;
&lt;p&gt;Right off the gate, Casey says a number things that I think are misleading about the design of a rail transport network and how end users might interact with it.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Despite decades of development, only a handful of routes in Europe operate at anything like airplane-competitive speeds, which for all but the shortest routes, require &amp;gt; 300 km/h or &amp;gt; 185 mph.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;The oft-stated goal time of 2 hours and 40 minutes [between Los Angeles and San Francisco] is both unachievably rapid with finite money and current technology, and also too slow to compete with aircraft&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;HSR is not a compelling option for generic high speed intercity transport.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;First of all, this drastically misstates end users revealed transit preferences. HSR does not need to match airline speeds in order to be competitive with airlines, because end consumers do not actually care about travel speed. Consumers care about &lt;em&gt;door to door&lt;/em&gt; travel time, frequency, comfort, and cost. While airplanes do cruise at a much higher speed than HSR, they also spend a lot of time not at cruising speed. All the time spent getting to the airport&lt;sup id=&#34;fnref:9&#34;&gt;&lt;a href=&#34;#fn:9&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;9&lt;/a&gt;&lt;/sup&gt;, through security, finding the gate, boarding, taxiing, climbing to cruising altitude/speed, landing, getting baggage, and travelling from the airport count&lt;sup id=&#34;fnref:10&#34;&gt;&lt;a href=&#34;#fn:10&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;10&lt;/a&gt;&lt;/sup&gt;. Plus you have to include the indignities and discomfort of being shoved into a small seat and breathing &lt;a href=&#34;https://www.camfil.com/en-us/insights/commercial-and-public-buildings/airplane-iaq&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;bad air&lt;/a&gt;
. The overall outcome is that while not everyone in Europe takes HSR, the general &lt;a href=&#34;https://www.travelstatsman.com/08082016/high-speed-rail-train-plane/&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;revealed preferences&lt;/a&gt;
 is that users take the train for shorter trips, with the break even point between HSR and flights for a given route at about 4.5 hours of train time.&lt;/p&gt;
&lt;p&gt;Secondarily, the fact that HSR is a &amp;ldquo;tiny and static&amp;rdquo; portion of total rail network build outs does not reflect a fundamental flaw in HSR if it were true (but it&amp;rsquo;s not true&amp;hellip;). HSR is not necessarily a good fit for every single country and city, it&amp;rsquo;s a tool that has to be evaluated in context. Lots of cities are too small or too close to justify HSR, and lots of countries have not been able to afford it. The list of cities that are a good demograhic fit for HSR in countries that can afford it has been a relatively stable set until recently, so it&amp;rsquo;s not that surprising that the networks haven&amp;rsquo;t grown.&lt;/p&gt;
&lt;p&gt;Consider France. The TGV has 2800km worth of track directly connecting a pretty small number of cities directly. This might seem like a failure as an American, until you consider the demographics of France. France has a very different population distribution than America, with a huge percentage of the population living in or close to Paris. The Paris metropolitan area of Paris contains 14.6m of France&amp;rsquo;s 67.9 million people, or over a fifth of the countries population. So the TGV obviously connects all the cities you&amp;rsquo;ve heard of like Lyon, Nice, Marsailles, and Bordeaux, but also a bunch of tiny little towns that nobody outside the region has heard of. The TGV directly connects Avignon (pop 90,305), Arras (pop 40,830), Hazebrouck (pop 21,408) and Vendenheim (pop 5,971) to pick a few random ones. SNCF can and still is adding lines to improve the network, but they&amp;rsquo;re well into diminishing returns when it comes to what population of France they&amp;rsquo;re serving. In fact a lot of their planned lines actually leave France for Italy and Spain.&lt;/p&gt;
&lt;p&gt;And finally, HSR is clearly not a compelling option for &amp;ldquo;generic&amp;rdquo; intercity transport, but that is an arbitrarily high bar to set. Very, very few people are recommending that we get rid of all airplanes for HSR. Instead people like me are instead arguing that HSR is a good fit for certain large population centers within certain distances of each other. There is no world in which people take HSR from LA to NYC, or LA to Montana. Instead the question is whether we should invest the money to create better or new HSR between major population centers in California and the Eastern seaboard.&lt;/p&gt;
&lt;h2 id=&#34;adoption&#34;&gt;Adoption&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;In general, the number of &amp;gt;300 km/h HSR networks on Earth can be counted on one hand, and the total track length is a minuscule and mostly static fraction of global rail network length, which itself is shrinking at a reasonably rapid pace.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I mean, this is literally false. The number of HSR networks with routes faster than 300kph is six, which is more fingers than I have on either of my hands. This list includes China, France, Japan, Morocco (!!), South Korea, and Spain. If we widen our list to include routes that are exactly 300kph, this list expands to 14 including Germany, Italy, the UK, Turkey, Saudi Arabia, Taiwan, Belgium, and the Netherlands. Meeting the EU&amp;rsquo;s definition brings in South Korea, Germany, Italy, Russia, Uzbekistan, Austria, and Switzerland for a total of 21. America just falls off this list with a top speed of 240kph&lt;sup id=&#34;fnref:11&#34;&gt;&lt;a href=&#34;#fn:11&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;11&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;The size of the network is also growing. China alone has added 40,000km of HSR to its network, so I would not call the track length &amp;ldquo;mostly static&amp;rdquo;. Morocco is also new, having added 323 km in the past four years. Networks under construction (not just in planning) expands the list to Canada, USA, India, Thailand, and Indonesia. This list excludes countries that already have HSR and are expanding their network, such as Japan&amp;rsquo;s under construction 286km 505kph&lt;sup id=&#34;fnref:12&#34;&gt;&lt;a href=&#34;#fn:12&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;12&lt;/a&gt;&lt;/sup&gt; Chūō Shinkansen line. So not only is the network bigger than &amp;ldquo;one hand&amp;rdquo;, but it is emphatically growing.&lt;/p&gt;
&lt;p&gt;And this is to be expected! A lot of countries have not historically had the economy, the technical base, and the urbanization to make it worth it. While my general position is that HSR is not expensive compared to the large, rich econonomies of the global North, there are a lot of countries that cannot afford it. As countries like Vietnam and India get richer, it is not surprising to see them begin planning or constructing large HSR networks that they might not have been able to afford a decade or two ago. Vietnam in particular is currently planning a $58B, 1,545km HSR network. Vietnam also went from a nominal GDP of $34B in 1997 to an expected GDP of $408B this year. The fact that they didn&amp;rsquo;t have HSR last century and they&amp;rsquo;re planning it now is indicative of nothing more than their economy.&lt;/p&gt;
&lt;h2 id=&#34;global-warming-and-transit&#34;&gt;Global Warming and Transit&lt;/h2&gt;
&lt;h3 id=&#34;co2&#34;&gt;CO2&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Alternatively, synthetic aviation fuel is under development to make aircraft carbon neutral. Indeed, at Terraform Industries we think synthetic fuel will ultimately be even cheaper than current options, expanding access to the convenience, speed, and safety of air travel.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;First off, big conflict of interest here. Casey is a co-founder of Terraform Industries, so he is not a neutral party in this discussion, and he should have disclosed that. Given that Casey seems to believe that his company may be able to sell synthetic jet fuel, America shifting some of its transit from airplanes to HSR would have a negative impact on his company&amp;rsquo;s potential future profits.&lt;/p&gt;
&lt;p&gt;But even if synthetic jet fuel is cheaper than refined kerosene, and I genuinely doubt it ever will be, this will not be enough to make jet travel &amp;ldquo;green&amp;rdquo;. The exact numbers vary depending on whose model you trust, but a huge chunk of the warming effect from commercial aviation comes from gasses other than CO2. Various mixes of particulate matter, black carbon, nitrous oxides, and sulfer compounds from the fuel interact in the upper atmosphere in an insanely complicated to model way, and tend to have a cumulative warming effect. There is also a big difference in spreading CO2 at sea level vs. high up in the atmosphere, even if it&amp;rsquo;s previously captured CO2 rather than new from the ground.&lt;/p&gt;
&lt;p&gt;But the worst offender by far is water vapor. The contrails left visibly behind jets is created by water in the exhaust gases condensing in the atmosphere. While these gases are short lived, they do have a large warming effect for their lifetime. Per the &lt;a href=&#34;https://www.eesi.org/papers/view/fact-sheet-the-growth-in-greenhouse-gas-emissions-from-commercial-aviation&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;EESI&lt;/a&gt;
: &amp;ldquo;The effect is so large today that it exceeds the total warming influence of all the CO2 emitted by aircraft since the beginning of powered flight.&amp;rdquo; Synthetic fuels will do &lt;em&gt;nothing&lt;/em&gt; to solve this. Water is an unavoidable by product of the hydrocarbon combustion process, and Terraform Laboratories making synthetic methane&lt;sup id=&#34;fnref:13&#34;&gt;&lt;a href=&#34;#fn:13&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;13&lt;/a&gt;&lt;/sup&gt;&lt;sup id=&#34;fnref:14&#34;&gt;&lt;a href=&#34;#fn:14&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;14&lt;/a&gt;&lt;/sup&gt; probably reduces the warming effect of air travel by less than half. As we&amp;rsquo;ll see, HSR generally reduces the energy consumption per passenger km by a factor of 3 or more&lt;sup id=&#34;fnref:15&#34;&gt;&lt;a href=&#34;#fn:15&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;15&lt;/a&gt;&lt;/sup&gt;. And that&amp;rsquo;s before you consider the fact that it&amp;rsquo;s using electricity, which can be powered by a variety of sources.&lt;/p&gt;
&lt;h3 id=&#34;concrete&#34;&gt;Concrete&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;HSR grades cannot be built between nearly any city pair on Earth without moving a LOT of dirt and rock and pouring a LOT of (CO2-emitting) concrete&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;What, and airports don&amp;rsquo;t have a lot of concrete too? JFK airport has four runways totaling 44,900 feet in length, all are 200 feet wide and 18 inches thick for a total volume of 13,470,000 cubic feet. The Shinkansen trains seem to use the most concrete for HSR because they use slabs of concrete rather than concrete &amp;ldquo;sleepers&amp;rdquo; like in other countries. These slabs are 2200mm wide, 4900mm long, and 190mm thick. This gives us a total volume of 418 cubic meters per kilometer of track&lt;sup id=&#34;fnref:16&#34;&gt;&lt;a href=&#34;#fn:16&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;16&lt;/a&gt;&lt;/sup&gt;, or 14761.5 cubic feet per kilometer. So just the runway at JFK contains enough concrete to make 912km of Shinkansen, or about 1/3rd of the system&amp;rsquo;s length. And that&amp;rsquo;s before we consider the taxiway, terminal, parking lots at the terminal, maintenance facilities, etc.&lt;/p&gt;
&lt;p&gt;And yes, stations also contain concrete, but train stations are much smaller than airports. The Atlanta airport terminal covers 130 acres, or 0.52 square kilometers. Tokyo station is 0.182 square kilometers in size. Oh and Tokyo station moves 500,000 people a day to Atlanta&amp;rsquo;s 300,000. There&amp;rsquo;s also random bridges and viaducts and what not, but there&amp;rsquo;s really no way to slice this so that HSR is using more concrete than its alternatives&lt;sup id=&#34;fnref:17&#34;&gt;&lt;a href=&#34;#fn:17&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;17&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;
&lt;h2 id=&#34;frequency-and-scale&#34;&gt;Frequency and Scale&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;But rail has relatively narrow limits in terms of train size and frequency meaning that any route will be both congested at peak times and under-utilized for much of the rest.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The statement about size and frequency is really not true. HSR shows a huge variation in train size both internationally and within the same system, often significantly more variation than a lot of airlines. Furthermore train frequency is also much more variable than is implied here.&lt;/p&gt;
&lt;p&gt;First a note on sizing. Both airplanes and trains can be configured to make tradeoffs between seating capacity and seating price. This often says less about the fundamental capacities of the transport, and more about the market segment the operator fits in. Therefore I&amp;rsquo;m going to try and represent the maximum ranges for models in use, to be fair. Exceptions will be made if configurations are available but are not purchased in practice.&lt;/p&gt;
&lt;p&gt;I am also going to disregard historical vehicles. There is a lot of cool stuff that is no longer in use, like the Concorde, but they tell us nothing about vehicle tradeoffs today and going forward.&lt;/p&gt;
&lt;h3 id=&#34;aircraft-size&#34;&gt;Aircraft Size&lt;/h3&gt;
&lt;p&gt;Lets start with aircraft size. I am going to explicitly exclude private airplanes, which typically seat few people and don&amp;rsquo;t really fit in a discussion of mass transport. This includes Cessna type general aviation craft, and private chartered jets like the Leerjet.&lt;/p&gt;
&lt;p&gt;The absolute smallest commercial craft are going to be turboprops used by regional and commuter lines. There tend to be a lot fewer of these than their low purchase price would imply, and they&amp;rsquo;re under a lot of pressure from narrow body jets, but they do exist so lets look at them.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ATR 42
&lt;ul&gt;
&lt;li&gt;Seats 48&lt;/li&gt;
&lt;li&gt;232 in airline service&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ATR 72
&lt;ul&gt;
&lt;li&gt;Seats 72&lt;/li&gt;
&lt;li&gt;444 in service&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;De Havilland Canada Dash 8 Q400
&lt;ul&gt;
&lt;li&gt;82-90 seats&lt;/li&gt;
&lt;li&gt;508 in service&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A step up from that are narrow body jets. These represent the bulk of commercial aviation both in terms of aircraft sales and passenger miles. This set includes the 737, which is basically eating up all of aviation now that it has the range to handle long range travel.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A220
&lt;ul&gt;
&lt;li&gt;108-160 seats&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;A300
&lt;ul&gt;
&lt;li&gt;228-361 seats&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;A320
&lt;ul&gt;
&lt;li&gt;150-186 seats&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;737
&lt;ul&gt;
&lt;li&gt;85-215 seats&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And lastly we have the wide body jets. These are less common thanks to improvements to narrow body jet ranges and fuel economies, but they definitely exist and are in operation.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;747
&lt;ul&gt;
&lt;li&gt;467-605 seats&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;777
&lt;ul&gt;
&lt;li&gt;301-550 seats&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;A380
&lt;ul&gt;
&lt;li&gt;555-853* seats&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There&amp;rsquo;s an issue with that A380 number. As best as I can tell, nobody ever flew the A380 with the 853 seat configuration. The largest operator and the operator of the largest A380, Air Emirates, has a maximum seating of 615. Most operators of the A380 ran it with 400-500 odd passengers, presumably for economic reasons.&lt;/p&gt;
&lt;p&gt;So that&amp;rsquo;s the range we&amp;rsquo;ve got, 48-615 seats if you include turboprops. Limiting yourself to jets you end up with 108 to 615 seats.&lt;/p&gt;
&lt;h3 id=&#34;train-size&#34;&gt;Train Size&lt;/h3&gt;
&lt;p&gt;Like airplanes HSR cars can be configured for a mix of seating types. Unlike HSR trains can be adjusted in length to change capacity with the same equipment. In practice most HSR routes purchase fixed trainsets with known capacities, but there is a trend towards more dynamically reconfigurable options, both in terms of train composition and train interiors. More on that in a moment.&lt;/p&gt;
&lt;p&gt;HSR train sets tend to come in two large design categories. Some use dedicated power cars, usually two per train set, with unpowered carriages in between for passengers. These appear to generally be cheaper, but are limited to 9-10 carriages per train set. Almost all of the small HSR trains are of this configuration, including:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Alstrom AGV
&lt;ul&gt;
&lt;li&gt;245-446 seats&lt;/li&gt;
&lt;li&gt;NTV rail line in Italy&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Acela Express Trainset
&lt;ul&gt;
&lt;li&gt;304 seats&lt;/li&gt;
&lt;li&gt;In use with Amtrak&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Renfe 100
&lt;ul&gt;
&lt;li&gt;329 seats&lt;/li&gt;
&lt;li&gt;In operation in Spain&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Renfe45 102
&lt;ul&gt;
&lt;li&gt;318 seats&lt;/li&gt;
&lt;li&gt;In operation in Spain&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These are just the smallest train sets of this configuration I could find. Lots of trains of this design are significantly bigger, with the norm being 400-500 seats.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;KTX-Sancheon
&lt;ul&gt;
&lt;li&gt;363-410 seats&lt;/li&gt;
&lt;li&gt;In operation in South Korea&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;TGV Réseau
&lt;ul&gt;
&lt;li&gt;377 seats&lt;/li&gt;
&lt;li&gt;In operation in France&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Euroduplex
&lt;ul&gt;
&lt;li&gt;509-533 seats&lt;/li&gt;
&lt;li&gt;France and Morocco&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;TGV Duplex
&lt;ul&gt;
&lt;li&gt;508 seats&lt;sup id=&#34;fnref:18&#34;&gt;&lt;a href=&#34;#fn:18&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;18&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;France, again&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;TGV M
&lt;ul&gt;
&lt;li&gt;740 seats&lt;sup id=&#34;fnref:19&#34;&gt;&lt;a href=&#34;#fn:19&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;19&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;No points for guessing that this is also French&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;FS Class ETR 500
&lt;ul&gt;
&lt;li&gt;422-671 seats&lt;/li&gt;
&lt;li&gt;In operation in Spain&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;At this point we&amp;rsquo;re above the A380 in capacity, but we&amp;rsquo;re not done yet! There is another type of HSR railset, the Electrical Multiple Unit (EMU). EMU trains lack dedicated powered cars, and instead have some or all of the passenger compartments powering the train. These come at higher per-train cost, but can be configured to nearly arbitrary sizes, and can move an absurd number of people. EMU trainsets seem to vary anywhere from 8 to 20 cars. Different lengths on the same line to adjust capacity seem to be pretty common, with the Shinkansen preferring 8 and 16 car configuration. Some examples.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;700 Series &amp;ldquo;E&amp;rdquo; configuration
&lt;ul&gt;
&lt;li&gt;8 cars&lt;/li&gt;
&lt;li&gt;571 seats&lt;/li&gt;
&lt;li&gt;San&amp;rsquo;yō Shinkansen and Hakata Minami Lines&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;CRH3
&lt;ul&gt;
&lt;li&gt;8-16 cars&lt;/li&gt;
&lt;li&gt;551-1053 seats&lt;/li&gt;
&lt;li&gt;In operation in China&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Fuxing
&lt;ul&gt;
&lt;li&gt;8, 16, or 17 cars&lt;/li&gt;
&lt;li&gt;575-1283 seats&lt;/li&gt;
&lt;li&gt;In operation in China&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;N700A &amp;ldquo;K&amp;rdquo; configuration
&lt;ul&gt;
&lt;li&gt;16 cars&lt;/li&gt;
&lt;li&gt;1,260 seats&lt;/li&gt;
&lt;li&gt;In operation in Japan&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;N700S-3000
&lt;ul&gt;
&lt;li&gt;16 cars&lt;/li&gt;
&lt;li&gt;1,323 seats!!&lt;/li&gt;
&lt;li&gt;In operation in Japan&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So that is our range for HSR, anywhere between 245 seats to 1,323 seats. Not exactly a relatively &amp;ldquo;narrow&amp;rdquo; limit, I would say. I&amp;rsquo;ll certainly grant that airplanes give more flexibility at the low end of the spectrum with things like turboprops and very small narrow body jets like the A220 not having a direct HSR equivalent. But at the top end HSR wins the size comparison handily, plus it gives operators the ability to reconfigure train size quickly and cheaply if need be. There is no air equivalent to putting another carriage on the TGV M, or mixing and matching cars to make a TGV Duplex, or doubling the size of a CRH3.&lt;/p&gt;
&lt;h2 id=&#34;frequency&#34;&gt;Frequency&lt;/h2&gt;
&lt;p&gt;Okay, but are airplanes more frequent? Let&amp;rsquo;s see!&lt;/p&gt;
&lt;p&gt;Before we start, let&amp;rsquo;s set the ground rules for comparison. First, frequency is largely driven by demand, so low frequency routes tell us very little about the system &lt;em&gt;could&lt;/em&gt; do. The flight route between nowhere and east armpit doesn&amp;rsquo;t really have a lot of demand, so it doesn&amp;rsquo;t tell us what the flight route between LAX and SFO could theoretically handle. Second, we want to be very careful when comparing system wide stats to individual routes. At any given point there are more HSR trains in operation than there are flights between two arbitrary cities, but that infrastructure demand is spread out, and does not tell us what the throughput between two given cities could be. More simply put, frequency is driven by demand but limited by infrastructure.&lt;/p&gt;
&lt;h3 id=&#34;airplanes&#34;&gt;Airplanes&lt;/h3&gt;
&lt;p&gt;The first limiting factor for airplane frequency is that they can have a very long turnaround time, which is the amount of time it takes to swap one set of passengers for the next and prepare the plane for flight. The larger the plane, the worse this gets due to the ratio of passengers to exits. So for your very large aircraft like an A380, your turnaround time is 90-110 minutes, or nearly two hours worth of time not traveling. Smaller aircraft do this better. Southwest used to be able to do a &lt;a href=&#34;https://apex.aero/articles/2020-11-17-turn-back-the-clock-southwests-quick-turnarounds/&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;10 minute&lt;/a&gt;
 turnaround with their 737-200s back in 1977, but these only seated 130 people max. Now that Southwest runs 175 seat 737 Max 8&amp;rsquo;s, their average turnaround seems to be about 35 minutes pre-pandemic. During the pandemic that expanded to 50 minutes due to the time required to clean surfaces. Rounding the math a bit, a 30 minute dwell time for a one hour route puts the maximum frequency of 8 round trips per day per plane. The 90 minute turnaround time for an A380 only allows for a bit under 5 round trips per day per plane.&lt;/p&gt;
&lt;p&gt;The obvious solution here is to buy more than one plane. Airlines make money on all but the smallest routes (which are often subsidized), so assuming there is customer demand it&amp;rsquo;s pretty easy to justify buying another plane. Assuming that you can get a crew for it (there is a pilot shortage at the moment), two 737s would allow Southwest to run 16 round trips a day, and three would get you 24. Continuing to assume that we can lease enough planes and hire enough pilots, what&amp;rsquo;s our limiting factor?&lt;/p&gt;
&lt;p&gt;Turns out that gates are our limiting factor. We&amp;rsquo;re all familiar with specific airlines being in specific terminals (Southwest is in terminal 1 at LAX), but most people don&amp;rsquo;t know that airlines lease individual gates from the airline too. Currently Southwest has &lt;a href=&#34;https://www.lawa.org/news-releases/2021/news-release-027&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;13&lt;/a&gt;
 gates at LAX, so let&amp;rsquo;s start with that as our number. 13 gates means that we can have no more than 13 planes currently turning over in parallel; any more and our turnaround time will increase and our frequency will not change. Sticking with our generous 30 minute turnaround time, this means that a new plane can arrive every 30/13 or every 2.3 minutes. At this frequency, with no mistakes, every time a plane leaves to take off, another will be arriving to take its spot. This frequency gets us 626 round trips per day from 13 gates with a 30 minute turnover time with no variation or mistakes.&lt;/p&gt;
&lt;p&gt;But wait! Capacity at the other side matters too! SouthWest shares one gate with JetBlue and has five all to itself at SFO. This means our capacity on the SFO side is about 5 gates, depending on how JetBlue and SouthWest split gate B8. This drops our frequency for LAX&amp;lt;-&amp;gt;SFO down to 30/5, or every six minutes for a total of 240 a day.&lt;/p&gt;
&lt;p&gt;But there are still issues! Those gates are not intended to serve just one route they&amp;rsquo;re intended to serve &lt;em&gt;all&lt;/em&gt; routes. If we use that to run one route at maximum frequency, Southwest will not be able to fly anywhere else from SFO. Southwest in fact flies to 7 different cities direct from SFO. Even assuming that the route route is twice as important as the rest (I made this number up) we get a much smaller 60 flights per day. But still, we do have a workable formula here: the maximum flights possible for an airline at an airport is &lt;code&gt;(turnover time)/(min(gates at airport a, gates at airport b))&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;re not being terribly fair to airplanes here though. The number of users who will refuse to fly to any given city if it&amp;rsquo;s not on their favorite airline is small, most users will price shop. Rather than doing more math, I think the best way to actually figure this out is to look at real world route numbers. This should give us an idea of what the high water mark is across all cariers in an airport. So, what is the busiest route that actually exists in the world?&lt;/p&gt;
&lt;p&gt;The busiest in terms of both passenger count and plane trips is Jeju South Korea (CJU) to Seoul (GMP). Between January and November this route totaled 71,388&lt;sup id=&#34;fnref:20&#34;&gt;&lt;a href=&#34;#fn:20&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;20&lt;/a&gt;&lt;/sup&gt; trips, and it totaled 17,082,700 passegners for all of 2021. This time frame gives us 334 days, and an average of 213 flights per day. Presumably this number varies a lot on a day to day basis, given that Jeju is a tourist destination. After this route the numbers fall off dramatically, with the next most populous route being Seoul to Busan South Korea, with 28,809 flights between January and November of 2021, or 86 a day averaged. LAX to SFO ran 15,828, or a mere 47 a day averaged. While a few routes are extremely busy, most routes do not actually see that many planes per day.&lt;/p&gt;
&lt;h3 id=&#34;hsr&#34;&gt;HSR&lt;/h3&gt;
&lt;p&gt;HSR frequency is actually pretty tricky to figure out, because it depends heavily on track design. Trains do not accelerate and decelerate quickly, so all trains must keep a minimum safe distance between each other measured in minutes. Simplistically this puts an absolute ceiling on the frequency that trains can travel. For the Shinkansen the minimum safe headway is 3 minutes&lt;sup id=&#34;fnref:21&#34;&gt;&lt;a href=&#34;#fn:21&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;21&lt;/a&gt;&lt;/sup&gt;, giving you a maximum frequency of 60/3=20 per hour.&lt;/p&gt;
&lt;p&gt;There is also the concept of dwell time, which is the amount of time that the train spends at the station waiting for passengers. Dwell times for trains are much smaller than turnover for planes due to a much higher door/passenger ratio, but they are not instant. They are also partially decided by cultural factors about how compliant people are in queueing and boarding. For the Shinkansen system the average dwell time is 3 minutes, and 5 at the airport for baggage. The TGV tends to be 5 minutes. Lets be pessimistic and assume 5 minute dwell times. Assuming simplistic signaling, all trains must be minimum headway + dwell time apart to ensure that following trains have enough headway while the preceding train finishes its transfer, which gives us 8 minutes for the Shinkansen. More intelligent signaling ought to be able to reduce the headway as trains decelerate, since a slower train stops faster, that way each train does not need to maintain a full 3 minutes headway as its decelerating. So our minimum spacing in this case drops to either the maximum dwell time among the stations, or the minimum safe headway, whichever is lesser. For most HSR routes it&amp;rsquo;s going to be the dwell time, since 5 minute dwell times seem to be pretty normal for stations connecting to (ironically) airports.&lt;/p&gt;
&lt;p&gt;Of course this assumes that each station has only one platform and every train stops at every station, which is a very bad assumption to make. To stick with the Tokaido Shinkansen we see that they run three named services on the line with sixteen stations. Only one service, the Kodama, stops at every stop. The Nozomi only stops at six stations on the route, and the Hikari changes what stations it stops at depending on the time of day. Having different trains stop at different stations lets the operators bypass slow stations for express routes, and move more trains than the station design might otherwise allow. Shinkansen stations are also universally multi-platform, which will allow trains to travel closer together than their dwell time, and overlap slightly in the station. The only station on this route that only serves the Shinkansen is Shin-Fuji station, and it has two platforms. The rest have more platforms to both service the Shinkansen and various other commuter rails. Excepting the mega stations near the end of the line, the median station on this line seems to have six platforms, and most serve not just HSR but local commuter rail as well.&lt;/p&gt;
&lt;p&gt;Okay, enough theoretical talk, what is the actual observed frequency of HSR? It varies. European HSR seems to run at relatively low frequencies, such as the Eurostar Paris-&amp;gt;London route with 12-14 daily trips, and the Paris-&amp;gt;Lille service offers 18 daily trips. German ICE trains tend to have hourly or every other hour service. Chinese HSR varies from 1 a day (Beijing–Suzhou) to 238 a day (Huning PDL), with the dedicated HSR lines seeing much more frequent and rapid use. None of their dedicated linesn sees fewer than 12.&lt;/p&gt;
&lt;p&gt;The real high water mark for HSR is again the Tokaido Shinkansen, which operates 365 daily trips, peaking at 16 per direction per hour. This combined with the largest trains is certainly why their ridership is the highest.&lt;/p&gt;
&lt;h2 id=&#34;takeaways&#34;&gt;Takeaways&lt;/h2&gt;
&lt;p&gt;As is expected, there is a lot of variation. But on the whole HSR shows higher capacity, &lt;em&gt;and&lt;/em&gt; the possibility of higher frequency operation than all but maybe one or two air routes. Even moderately sized HSR trains like the Euroduplex exceed all but the largest aircraft, while many EMU trains more than double the seating capacity of any aircraft for sale today.&lt;/p&gt;
&lt;p&gt;Frequency tends to vary a lot as well. Most HSR and air route do not see a lot of trips, but the heavily used routes see a &lt;em&gt;lot&lt;/em&gt; of daily trips, more than all but one or two air routes. The Tokaido Shinkansen moved 452,000 people &lt;em&gt;per day&lt;/em&gt; back in 2016. The busiest air route in 2021 moved 17 million people for the entire year, which one line on the Shinkansen exceeded in 38 days. The busiest route in America, NYC to LAX is equivalent to less than 9 days of Tokaido Shinkansen, SFO to LAX is 8 (2018 numbers for both air routes). And we&amp;rsquo;re handicaping the Shinkansen by using 2016 numbers for it and later dates for the air routes. HSR can move an unbelievable amount of people if the will is there.&lt;/p&gt;
&lt;p&gt;Why am I focusing on this so much? Because Casey seems to have a drastic misunderstanding of the capabilities of HSR. He had this comment in the follow up discussion from his article.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;HSR headway requirements mean they move not that many people either. 740 people per train is great, but how many trains move per hour? Even Japan I think does maybe 70 trains per day on the busiest routes, or &amp;lt;3/hour.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There is literally no part of this sentence that is true! All the numerical claims are not just wrong, they are all a digit short of the correct answer.  I get that this is a blog written for free &amp;ldquo;in about an hour between putting the kids to bed and collapsing from exhaustion&amp;rdquo;&lt;sup id=&#34;fnref:22&#34;&gt;&lt;a href=&#34;#fn:22&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;22&lt;/a&gt;&lt;/sup&gt;, but these numbers were not hard at all for me to verify. I think the argument that most HSR does not have the same scale as airlines is probably true, but Casey said that they &amp;ldquo;can&amp;rsquo;t&amp;rdquo;, and that is clearly false.&lt;/p&gt;
&lt;h2 id=&#34;rail-is-outdated&#34;&gt;Rail is Outdated?&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Even in 2022, freight by rail is much slower as rail cars must wait in yards for trains to be assembled.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I&amp;rsquo;m going to keep this discussion brief, because going into freight rail is going to make this long post longer. The issues listed here are actually an issue with American rail specifically, and how it&amp;rsquo;s organized. It is &lt;em&gt;not&lt;/em&gt; endemic to all rail systems. Basically in the 1970s American freight rail operators made the decision to make trains longer and less frequent. This has reduced labor costs for the railways, but has resulted in more derailments, more traffic jams, inconsistent schedules, and low quality of life for rail workers. Not every nation has gone down this path, with countries like Switzerland producing freight systems that has drastically reduce the amount of trucking in the country. The result is that US freight rails are largely bulk, time insensitive goods (grain, aggregate, coal, etc.), a larger percentage of European freight rail is individual wagon loads destined for smaller enterprises, rather large unit trains for massive consumers like power plants. For more, check out Justin Roczniak&amp;rsquo;s &lt;a href=&#34;https://www.nytimes.com/2022/10/09/opinion/business-economics/freight-train-mismanagement.html&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;recent NYTimes piece&lt;/a&gt;
 or the episode on &lt;a href=&#34;https://www.youtube.com/watch?v=V0qcxyyllQ4&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;battery electric trains&lt;/a&gt;
.&lt;/p&gt;
&lt;h1 id=&#34;von-kármángabrielli-diagram&#34;&gt;von Kármán–Gabrielli Diagram&lt;/h1&gt;
&lt;p&gt;I&amp;rsquo;m going to break out an entire section to talk about von Kármán–Gabrielli diagrams, because this matters. See the image from Casey&amp;rsquo;s blog below.&lt;/p&gt;
&lt;p&gt;&lt;img  src=&#34;http://ashtonkemerling.com/images/trains/casey-g-k.png&#34;
        alt=&#34;von Kármán–Gabrielli Diagram from blog&#34;/&gt;&lt;/p&gt;
&lt;p&gt;First, lets explain this chart. This chart is designed to represent how efficient an entire mode of transportation can be in a way that is trivially comparable. This is necessary (and brilliant!) because it can be somewhat hard to compare the efficiency of different modes of transport using more naive methods.&lt;/p&gt;
&lt;p&gt;On the X axis we have speed in miles per hour. This exists because every mode of transport has both a minimum and maximum reasonable speed, nothing in the world is going to make a horse go 100mph for example, and efficiency changes over those speeds in different ways for different modes of transport.&lt;/p&gt;
&lt;p&gt;The Y axis is a unitless efficiency rating, which is not quite the same as efficiency as you or I might be used to. The goal is to compare modes of transport, not just individual vehicles. The unit is &lt;code&gt;energy used / (vehicle mass x velocity)&lt;/code&gt;. This efficiency lets us both compare across vehicle types, but also eliminates rather simple forms of analysis. If you throw a ton of bricks in the back of your truck and your fuel economy goes down, it has not necessarily gotten less efficient as a means of transport, you&amp;rsquo;re just asking it to do more. Making your vehicle out of light weight composites will likewise improve energy consumption, but will not drastically change the line on this graph. But if you replace a steam train with an electric one, then we&amp;rsquo;d expect the number to change. Put more sincinctly this graph responds to large jumps in efficiency, not incremental ones.&lt;/p&gt;
&lt;p&gt;Two other things. First there is a marked &amp;ldquo;limit line&amp;rdquo; on the graph. This isn&amp;rsquo;t some iron-clad rule of the universe, it&amp;rsquo;s just the apparent limitation of technology at the time. Second both axis are logarithmic, so straight lines are deceiving.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s Casey&amp;rsquo;s argument with this graph.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The zeroth order truth of the vK-G diagram is that there is a limit line of vehicular performance, which is essentially determined by momentum transfer limitations for vehicles that have to displace water or air to move along. It does not apply to spacecraft!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;The first order truth is that, above 100 mph, the most efficient transport mechanism shifts from ground-based to air-based. For smaller creatures than humans, the transition speed is a lot lower – most insects fly instead of walk.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;And if you look at the graph you can indeed see his point. The &amp;ldquo;autorail&amp;rdquo; line is both further to the left of airplanes, and the line is sloping up quickly. This if we extrapolate from the train line, it&amp;rsquo;s pretty clear that at a minimum it is going to be much less efficient than an airplane at around 300mph, which is where airplanes are the most efficient.&lt;/p&gt;
&lt;p&gt;But, wait a second, something weird is happening here. This clearly shows trains topping out at 100 miles per hour, but plenty of train lines hit 200 miles per hour. And it shows airplanes being the most efficient at 300mph and maxing out at 400mph, when the cruising speed for a 737 is about 515mph. And what the hell is &amp;ldquo;autorail&amp;rdquo;? Something is up. So, let&amp;rsquo;s be good investigators and check the citation, rather than just the graph.&lt;/p&gt;
&lt;p&gt;&lt;img  src=&#34;http://ashtonkemerling.com/images/trains/casey-g-k-citation.png&#34;
        alt=&#34;von Kármán–Gabrielli Diagram Citation&#34;/&gt;&lt;/p&gt;
&lt;p&gt;Oh&amp;hellip; Oh no. This graph is from 1950. While the methodology is still sound, I do not think that the actual numbers hold true 72 years later. At a minimum these numbers represent propeller driven aircraft, and potentially steam trains&lt;sup id=&#34;fnref:23&#34;&gt;&lt;a href=&#34;#fn:23&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;23&lt;/a&gt;&lt;/sup&gt;. We cannot draw any meaningful lessons about today&amp;rsquo;s technology using this.&lt;/p&gt;
&lt;p&gt;So, here&amp;rsquo;s an updated graph! It&amp;rsquo;s from 2004, and while that&amp;rsquo;s also oldish, at least vehicles manufactured in 2004 are still in regular use today.&lt;sup id=&#34;fnref:24&#34;&gt;&lt;a href=&#34;#fn:24&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;24&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;&lt;img  src=&#34;http://ashtonkemerling.com/images/trains/updated-g-k.jpg&#34;
        alt=&#34;Updated von Kármán–Gabrielli Diagram&#34;/&gt;&lt;/p&gt;
&lt;p&gt;This graph is a tiny bit harder to read, because the authors added a few new features. First, each vehicle now has &lt;em&gt;two&lt;/em&gt; lines, one for 1950 and one for 2004. Solid lines are old, dashed lines are updated. This lets us see how things have changed. Second, the creator of this chart has added specific vehicles to the lines, so for example Concorde is pointed out specifically. These represent the far edge of what a given mode of transport can do.&lt;/p&gt;
&lt;p&gt;First thing you&amp;rsquo;ll notice is that super tankers and passenger rail is now below the line. We&amp;rsquo;ve clearly pushed the limits of technology since 1950, which is good and expected. The second thing you&amp;rsquo;ll notice is that the curve for passenger rail is now clearly &lt;em&gt;below&lt;/em&gt; that of airplanes. Casey&amp;rsquo;s assertion that &amp;ldquo;above X mph the most efficient form of transport shifts to air&amp;rdquo; is at least no longer obviously true, and may in fact be false.&lt;/p&gt;
&lt;p&gt;This holds up when we consider the real world numbers from the Economic Analysis book, which lists the following figures for MJ per passenger km:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Gasoline car on highway: 0.47&lt;sup id=&#34;fnref:25&#34;&gt;&lt;a href=&#34;#fn:25&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;25&lt;/a&gt;&lt;/sup&gt;
&lt;ul&gt;
&lt;li&gt;This assumes 5 passengers. so 2.35 for single occupancy&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Diesel car on highway: 0.34
&lt;ul&gt;
&lt;li&gt;Same as gasoline car. 1.7 for single occupancy&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Passenger aircraft for 500km flight: &lt;em&gt;1.8&lt;/em&gt;&lt;sup id=&#34;fnref:26&#34;&gt;&lt;a href=&#34;#fn:26&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;26&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;Intercity rail: 0.22&lt;/li&gt;
&lt;li&gt;HSR: 0.53&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I will admit, I got more than a tiny bit snarky in the comments about this on Casey&amp;rsquo;s blog. We all make mistakes, I&amp;rsquo;m sure I&amp;rsquo;ve made some here, but this one is pretty glaring. That being said it&amp;rsquo;s the response to the error that really sits poorly with me, as Casey&amp;rsquo;s eventual response is that the blog is free&lt;sup id=&#34;fnref:27&#34;&gt;&lt;a href=&#34;#fn:27&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;27&lt;/a&gt;&lt;/sup&gt; and he owes me nothing. Obviously my own snark contributed to that interaction, but I think he owes his readers more intellectual rigor than this. My assertion is not that he owes me specifically an apology, but rather I think that he owes his readers in general some level of intellectual rigor and honesty.&lt;/p&gt;
&lt;p&gt;Also very interesting is that &amp;ldquo;transrapid 08&amp;rdquo; mark, which is a maglev train. Most people know that maglev trains are really, really fast, but I don&amp;rsquo;t think people realize how efficient they are too. To be fair, a lot of the concerns about the cost of building HSR &lt;em&gt;absolutely&lt;/em&gt; apply to maglev trains. The only existing one cost a pretty absurd $1.33B for only 19 miles of track. But it can also go 431kph, and is several times more efficient than an equivalent plane. They can also apparently handle steeper gradients, which is very interesting. They might be a game changer, or they might be a dead end due to construction costs, it&amp;rsquo;s too early to say&lt;sup id=&#34;fnref:28&#34;&gt;&lt;a href=&#34;#fn:28&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;28&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;h1 id=&#34;funny-accounting&#34;&gt;Funny Accounting&lt;/h1&gt;
&lt;p&gt;It&amp;rsquo;s time that we talk about the money.&lt;/p&gt;
&lt;h2 id=&#34;airport-time&#34;&gt;Airport Time!&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;If I build another airport, I have added 15,000 potential connections to the network. If I build another rail terminal and branch line, at significantly greater cost than an airstrip, I have added only one additional connection to the network.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This quote is expressing two distinct ideas.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Creating an airport enables more types of travel than HSR&lt;/li&gt;
&lt;li&gt;HSR is much more expensive than an airport.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I think there is a defensible argument in here! It is obviously true that creating an airport enables types of travel that HSR cannot, especially in a country the size of America. I am certainly not going to argue that my city does not need an airport, as there is no reasonable world where that airport can be replaced with HSR to where I want to go.&lt;/p&gt;
&lt;p&gt;But, I disagree with the sentiment expressed in the quote in some very specific ways.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;It is drastically overstating network effects of airports. Adding a new airport does not come anywhere close to 15,000 connections&lt;/li&gt;
&lt;li&gt;It implies that HSR and air is an either or proposition&lt;/li&gt;
&lt;li&gt;It drastically understates the cost of air travel infrastructure.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;hey-how-many-airports-are-there-anyways&#34;&gt;Hey, how many airports are there anyways?&lt;/h3&gt;
&lt;p&gt;Really, 15,000 airports? That feels wrong. I&amp;rsquo;ve moved around and travelled a decent bit, and I can only name 21 I&amp;rsquo;ve been to in the United States, which is a measly 0.14%. Is it true that building a new airport gives you access to &lt;del&gt;15,000&lt;/del&gt; 19,000&lt;sup id=&#34;fnref:29&#34;&gt;&lt;a href=&#34;#fn:29&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;29&lt;/a&gt;&lt;/sup&gt; airports?&lt;/p&gt;
&lt;p&gt;Well, no. The vast majority of these are &amp;ldquo;general aviation&amp;rdquo; (GA) airports that largely serve private pilots. This is really sweet if you&amp;rsquo;re one of the 160k&lt;sup id=&#34;fnref:30&#34;&gt;&lt;a href=&#34;#fn:30&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;30&lt;/a&gt;&lt;/sup&gt; Americans who have a private pilots license&lt;sup id=&#34;fnref:31&#34;&gt;&lt;a href=&#34;#fn:31&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;31&lt;/a&gt;&lt;/sup&gt; and can afford to own&lt;sup id=&#34;fnref:32&#34;&gt;&lt;a href=&#34;#fn:32&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;32&lt;/a&gt;&lt;/sup&gt; one of the roughly 210,000 GA aircraft registered in the US, but this is not relevant to the vast majority of the population. Technically these airports can offer non-scheduled private flights, known as chartered or air taxi service, but this is such a miniscule&lt;sup id=&#34;fnref:33&#34;&gt;&lt;a href=&#34;#fn:33&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;33&lt;/a&gt;&lt;/sup&gt; percentage of US flight miles, we can effectively ignore it. To the vast majority of the American population, these general aviation airports provide no utility in transporting them around the country.&lt;/p&gt;
&lt;p&gt;Okay, so how many airports can you buy scheduled service to? According to the ASCE, 520. These are further categorized into large, medium, small, and reliever hubs. Here are the counts:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Large
&lt;ul&gt;
&lt;li&gt;Count for at least 1% of US enplanements&lt;/li&gt;
&lt;li&gt;There are 30 of them&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Medium
&lt;ul&gt;
&lt;li&gt;0.25-1% of total enplanements&lt;/li&gt;
&lt;li&gt;I could find 31&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Small
&lt;ul&gt;
&lt;li&gt;0.05-0.25% of US enplanements&lt;/li&gt;
&lt;li&gt;I could find 71&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Nonhub
&lt;ul&gt;
&lt;li&gt;&amp;lt; 0.05%&lt;/li&gt;
&lt;li&gt;264&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Reliever
&lt;ul&gt;
&lt;li&gt;Only exists to relieve congestion at a larger airport.&lt;/li&gt;
&lt;li&gt;I could not be bothered to actually count these, but if the ACSE is right then the answer is 124.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Realistically, the vast majority of air traffic is going to go through large, medium, and small airports, which is a pretty small set. We&amp;rsquo;ve now droped from 15,000 originally down to 132&lt;sup id=&#34;fnref:34&#34;&gt;&lt;a href=&#34;#fn:34&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;34&lt;/a&gt;&lt;/sup&gt;. So constructing a new airport theoretically gives you access to not 15,000 airports, but 132 airports for scheduled flights. That is far less impressive, but to be fair a lot of these 132 will be in large population centers where lots of people want to fly to.&lt;/p&gt;
&lt;p&gt;For funsies I was able to find 223 stations served by TGV, including international ones like London-St Pancras. So there are more TGV stations than there are large airports in the US, which is interesting. By the numbers, building a new TGV station gives you access to more cities inside France than building a new airport gives you access to airports in America. But, to be fair more American Airports are going to be outside that magic 4.5 hour limit.&lt;/p&gt;
&lt;h3 id=&#34;network-effects&#34;&gt;Network Effects&lt;/h3&gt;
&lt;p&gt;The thing we&amp;rsquo;re obliquely talking about in the previous section is the network effect. The network effect is the process by which certain types of systems become more valuable the bigger they are &lt;em&gt;in a non linear fashion&lt;/em&gt;. This process doesn&amp;rsquo;t just apply to transit&lt;sup id=&#34;fnref:35&#34;&gt;&lt;a href=&#34;#fn:35&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;35&lt;/a&gt;&lt;/sup&gt;, but we&amp;rsquo;ll focus on transit here.&lt;/p&gt;
&lt;p&gt;Imagine that the world has no airports, and you make the very first one at city A. This airport is basically a novelty, you can take off from it, but there is nowhere else to go; you can fly around a bit, but you&amp;rsquo;re forced to land back at A again. Our total number of routes is 0. Building the second airport at city B increases the number of routes to 1; people in A can go to B and vice versa, so one new airport added one route. A third airport at C adds two more routes to our network even though it only added one extra place you can go to from A or B. Our routes now include A-B, A-C, and B-C. Adding a fourth airport adds three more routes, and so on and so forth. The size of the network is basically &lt;code&gt;(N-1)!&lt;/code&gt;&lt;sup id=&#34;fnref:36&#34;&gt;&lt;a href=&#34;#fn:36&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;36&lt;/a&gt;&lt;/sup&gt;. This is an exponential process, and is what Casey is talking about when he says that adding a new airport gives you more options than a new train route.&lt;/p&gt;
&lt;p&gt;Of course, this is not actually how airports work. Not every airport has a connection to every other airport, there is and never will be enough infrastructure to handle that layout. Instead most airports connect to the destination through a regional hub. So my airport (Boise) only offers direct flights to a handful of major cities, and mostly close ones at that&lt;sup id=&#34;fnref:37&#34;&gt;&lt;a href=&#34;#fn:37&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;37&lt;/a&gt;&lt;/sup&gt;. I can&amp;rsquo;t even fly direct to NYC from where I live. If I want to travel to anywhere not on this short list, I have to fly to one on the list and transfer. So trips to NYC almost certainly require a layover in Denver, Atlanta, or Chicago. This drives up travel time far above what the straight line speed of an aircraft would imply, and certainly is a drag on customer usage.&lt;/p&gt;
&lt;p&gt;But wait, it gets worse! All of this only applies to airports that are big enough and expensive enough to attract even a small number of airlines. Even among airports offering scheduled service, this is not the majority. If I lived over in Twin Falls, my flight options look a lot worse. Twin Falls airport offers scheduled service and is classified as a &amp;ldquo;nonhub&amp;rdquo; airport, but it only offers direct scheduled flights to Salt Lake City. A flight to Boise from Twin Falls involves a layover in Salt Lake City, plus $600 or more. All this for a 128 mile trip which could be served well by basic intercity rail&lt;sup id=&#34;fnref:38&#34;&gt;&lt;a href=&#34;#fn:38&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;38&lt;/a&gt;&lt;/sup&gt;. Instead we count on cars, which is both expensive (more on that in a second), has a lot of externalities&lt;sup id=&#34;fnref:39&#34;&gt;&lt;a href=&#34;#fn:39&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;39&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;When researching this article, I ended up considering the case of Youngstown OH. Youngstown has a regional airport, but that airport lost its last scheduled flight provider in 2018, meaning that everyone in the region now has to drive about an hour to CLE for flights. The frustrating thing is that Youngstown is precisely the kind of place that would be served by HSR (or a quick interurban connection to HSR) in Europe because it lies between major population centers that can support HSR traffic. In fact the Capitol Limited&lt;sup id=&#34;fnref:40&#34;&gt;&lt;a href=&#34;#fn:40&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;40&lt;/a&gt;&lt;/sup&gt; used to do exactly that! Our disinvestment in rail and preference for air travel has left places like Youngstown very vulnerable to positive feedback loops where loss of population and industry makes the airport less profitable, losing flights and routes which hinders economic recovery. I suspect that upgrading the Capitol Limited to even Category II EU standards might be worth it, but that will have to wait for another post; this one is far too long already.&lt;/p&gt;
&lt;p&gt;Rail networks are much more complicated to model. It depends on the layout of the existing rail, and how new lines are added. Keeping in mind that 4.5 hour figure from above, it is not hard to see how adding a branch line from a LA-&amp;gt;SF HSR to Sacramento would allow people in all 3 cities to reach each other. As a general rule adding a new station enables access between the new branch and anywhere else in the network that is 4.5 hours away, which can often be significantly more than just &amp;ldquo;one additional connection&amp;rdquo;. This is particularly true when the new branch offers &lt;a href=&#34;https://en.wikipedia.org/wiki/Through_service&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;through service&lt;/a&gt;
, which is common in a lot of interurban rail. Through service means that a train on one branch &amp;ldquo;changes&amp;rdquo; its name and continues operation on another route. This means customers can avoid transferring trains and travel through. This is not a panacea for network effects in general, but it does make the situation a lot rosier than Casey states.&lt;/p&gt;
&lt;p&gt;Also, at the risk of being snarky, rail system designers are not dumb. The tradeoffs and usage patterns for HSR vs plane vs car are very well known at this point in time. Lines are added to connect as many people to as many points on the network as is reasonably possible, and to shorten as many trips as is possible. If a route will provide minimal value to the overall network, it just won&amp;rsquo;t get made.&lt;/p&gt;
&lt;h3 id=&#34;either-or-fallacies&#34;&gt;Either Or Fallacies&lt;/h3&gt;
&lt;p&gt;I think the big fallacy Casey is making here is that he&amp;rsquo;s implying that we can have either an airport or a HSR. Obviously I think this is a mistake.&lt;/p&gt;
&lt;p&gt;At first blush, this is a reasonable assumption to make. While we can haggle over how cheap we could possibly make a new HSR network, the practical floor for even a small set of routes through California is in the tens of billions. Airports are likewise expensive. It absolutely makes sense to avoid making two very large infrastructure decisions that seem to compete.&lt;/p&gt;
&lt;p&gt;And yet, that is &lt;em&gt;exactly&lt;/em&gt; what countries with HSR do. While it sounds dumb to say this explicitly, Paris has a big airport. It in fact has two airports, and it is the center of all of France&amp;rsquo;s HSR offerings. What gives?&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s worth thinking about what happens to tranel between two cities with viable HSR. There are three possible things that can happen, and they are not mutually exclusive.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Airline travel shifts over to HSR&lt;/li&gt;
&lt;li&gt;Non-airline travel shifts over to HSR, typically car trips&lt;/li&gt;
&lt;li&gt;HSR generates new trips&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If airline traffic shifts to HSR, then we free up gates in the airport. This lets us either use those gates for routes that HSR cannot possibly handle, or it allows us to build a smaller airport&lt;sup id=&#34;fnref:41&#34;&gt;&lt;a href=&#34;#fn:41&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;41&lt;/a&gt;&lt;/sup&gt; or defer incredibly expensive airport expansion. Which you choose depends on what demand for non-HSR routes looks like, and what the costs of expansion might be.&lt;/p&gt;
&lt;p&gt;Non-airline car traffic shifting over to HSR is an unambiguous public good. Driving is inefficient, polluting, dangerous, and expensive. Getting people to reduce car trips voluntarily because we&amp;rsquo;ve offered them something more convenient is a win-win. Less pollution, fewer car deaths, less traffic&lt;sup id=&#34;fnref:42&#34;&gt;&lt;a href=&#34;#fn:42&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;42&lt;/a&gt;&lt;/sup&gt;, what&amp;rsquo;s not to love?&lt;/p&gt;
&lt;p&gt;And finally HSR can generate new trips that did not exist before, increasing the total number of trips between the cities in question. This is your classic &lt;a href=&#34;https://en.wikipedia.org/wiki/Induced_demand&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;induced demand&lt;/a&gt;
, except that it&amp;rsquo;s good for mass transit. Induced demand for roads is bad because roads do not scale well and traffic becomes an issue. Induced demand for trains is less of an issue because trains scale relatively gracefully. Relatively few HSR routes are capped out in terms of frequency and train size, so you can just run more trains&lt;sup id=&#34;fnref:43&#34;&gt;&lt;a href=&#34;#fn:43&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;43&lt;/a&gt;&lt;/sup&gt; if more people want to travel. This is extremely good. The purpose of mass transit is to move people around so that they can enjoy their lives and generate economic activity. If a shiny new HSR network makes more people do that, then it&amp;rsquo;s doing exactly what we wanted it to do.&lt;/p&gt;
&lt;h3 id=&#34;airports-are-cheap-right&#34;&gt;Airports are cheap, right?&lt;/h3&gt;
&lt;p&gt;What about that &amp;ldquo;at significantly greater cost&amp;rdquo; bit? Is HSR more expensive than an airport?&lt;/p&gt;
&lt;p&gt;Honestly, it&amp;rsquo;s not exactly clear to me. The tradeoffs in terms of up front cost is extremely complicated, and requires us run through some counterfactuals that are way beyond my ability. How much would LAX cost to construct and run if most of its California bound traffic got shifted to HSR? Hell if I know.&lt;/p&gt;
&lt;p&gt;Instead I&amp;rsquo;m going to focus on the &amp;ldquo;significantly greater cost&amp;rdquo; half. Airports are, frankly, really fucking expensive in the US. But they are expensive in a way that is very hard for us to see. HSR tends to be either nationalized or run by a small number of highly visible companies whose budgets and subsidies are subject to easy visibility. Airports on the other hand are typically run by the city they&amp;rsquo;re part of, which makes tracking down the sum total of subsidies and construction costs beyond what I can research easily. Also there tend to be a lot of hidden subsidies, such as joint civil military&lt;sup id=&#34;fnref:44&#34;&gt;&lt;a href=&#34;#fn:44&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;44&lt;/a&gt;&lt;/sup&gt; bases. My local airport hosts a portion of the Idaho national guard. How much does this subsidize the airport? Dunno.&lt;/p&gt;
&lt;p&gt;Less directly, there are schenanigans involved in the financing of airport maintenance and work. Salt Lake City rebuilt their terminal last year (2021) for $4.1B. All of the articls I read were very, very specific to say that no tax payer money would go towards the project, and this is kind of true. Financing for the project was done through bonds issued by the city itself and repayable from revenue from the airport and trust accounts&lt;sup id=&#34;fnref:45&#34;&gt;&lt;a href=&#34;#fn:45&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;45&lt;/a&gt;&lt;/sup&gt;, and interest earned by investors is &lt;em&gt;tax free&lt;/em&gt; both federally and at the state level for Utah residents. This provides the airport company a significantly lower cost of financing the project at the cost of lowered income taxes and leveraging the city&amp;rsquo;s better credit rating. This kind of bond structure is not unique to Utah or airports, but I think we should be absolutely clear that this is a subsidy structured to not look like one.&lt;/p&gt;
&lt;p&gt;Anyways, airports need to be constructed new and reconstructed on a regular basis. Here are a few projects I found that were completed.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Denver International Airport (1995)
&lt;ul&gt;
&lt;li&gt;Budgeted: $2.8B&lt;/li&gt;
&lt;li&gt;Actual: $4.8B&lt;sup id=&#34;fnref:46&#34;&gt;&lt;a href=&#34;#fn:46&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;46&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;Inflation adjusted: $8.5B&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Salt Lake City Airport Terminal (2021)
&lt;ul&gt;
&lt;li&gt;Budgeted: $3.6B&lt;/li&gt;
&lt;li&gt;Actual: $4.1B&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Atlanta Airport Runway 10-28 (2006)
&lt;ul&gt;
&lt;li&gt;$1.28B&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Clearly building even a terminal is fairly expensive. Worse still these need pretty expensive rebuilds on a constant basis. Airport Technology&amp;rsquo;s &lt;a href=&#34;https://www.airport-technology.com/airport-construction-projects/&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;project pipeline tracker&lt;/a&gt;
 lists 127 ongoing projects worth &lt;em&gt;$155B total&lt;/em&gt;. Worse still, some of these projects are repeats, with recently rebuilt or expanded airports getting another pass of money. For example Denver International Airport is getting upgraded again to the tune of $2B, after the initial construction in 1995 went over budget by a factor of 2.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s a list of project that stood out to me. All of these are in execution at time of writing, and I&amp;rsquo;ve included a few examples in countries with known HSR networks, for later comparison.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;John F. Kennedy International Airport Redevelopment ($15.5B)&lt;/li&gt;
&lt;li&gt;O&amp;rsquo;Hare International Airport Expansion ($9.8B)&lt;/li&gt;
&lt;li&gt;O&amp;rsquo;Hare International Airport Expansion II ($8.5B)&lt;sup id=&#34;fnref:47&#34;&gt;&lt;a href=&#34;#fn:47&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;47&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;LaGuardia Airport Redevelopment ($8B)&lt;/li&gt;
&lt;li&gt;Hartsfield-Jackson International Airport Expansion ($6B)&lt;/li&gt;
&lt;li&gt;LAX Automated People Mover System ($4.5B)&lt;/li&gt;
&lt;li&gt;San Francisco International Airport Expansion ($4.1B)&lt;sup id=&#34;fnref:48&#34;&gt;&lt;a href=&#34;#fn:48&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;48&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;Henoko Runway Development ($8.5B)&lt;sup id=&#34;fnref:49&#34;&gt;&lt;a href=&#34;#fn:49&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;49&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;Frankfurt International Airport Expansion: Terminal III ($4B)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;What about rail? The &lt;em&gt;Economic Analysis of High Speed Rail in Europe&lt;/em&gt; lists that the cost of HSR as being between €9,000,000 and €39,000,000 per km (€10,412,035.44 to €45,118,820.23 in 2020), while maintenance varies between €12,919 and €71,650 (€14,945.90 to €82,891.37 in 2020) for &lt;em&gt;European&lt;/em&gt; HSR projects. Do these numbers hold up in the decade since publication? What about for Japan?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Perpignan–Barcelona high-speed rail line
&lt;ul&gt;
&lt;li&gt;175km double track&lt;/li&gt;
&lt;li&gt;8.3km tunnel&lt;/li&gt;
&lt;li&gt;Cost €1.1 billion&lt;sup id=&#34;fnref:50&#34;&gt;&lt;a href=&#34;#fn:50&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;50&lt;/a&gt;&lt;/sup&gt; (€1.42 billion in 2020)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;LGV Bretagne-Pays de la Loire
&lt;ul&gt;
&lt;li&gt;214km double track&lt;/li&gt;
&lt;li&gt;Cost €3.3 billion (€3.71 billion in 2020)&lt;/li&gt;
&lt;li&gt;Includes 25 years of maintenance&lt;/li&gt;
&lt;li&gt;Estimated cost should be between €2.3B and €10B&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;LGV Sud Europe Atlantique
&lt;ul&gt;
&lt;li&gt;340km double track&lt;/li&gt;
&lt;li&gt;€3.8 billion for the main track (€11,176,470)&lt;/li&gt;
&lt;li&gt;€1.2 billion for connection, signal improvements, etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Nishi Kyushu Shinkansen (2022)
&lt;ul&gt;
&lt;li&gt;66km&lt;/li&gt;
&lt;li&gt;5 stations&lt;/li&gt;
&lt;li&gt;$4.4B ($66m per km, or roughly €58.4m)&lt;sup id=&#34;fnref:51&#34;&gt;&lt;a href=&#34;#fn:51&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;51&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Hokkaido Shinkansen (2015)
&lt;ul&gt;
&lt;li&gt;148km (53km in an existing tunnel)&lt;/li&gt;
&lt;li&gt;1 station rebuilt&lt;/li&gt;
&lt;li&gt;$4.67B ($31.5m or €27.6m)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Hokkaido Shinkansen Extension (2031)
&lt;ul&gt;
&lt;li&gt;211km, 76% in existing tunnels&lt;/li&gt;
&lt;li&gt;2 new stations.&lt;/li&gt;
&lt;li&gt;$11bn ($52M or €50.5m per km at 2022 rates)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A few clear takeaways. First off, it&amp;rsquo;s hard to estimate per km track construction vs maintenance cost for the French because of how France structures these. SNCF loves to purchase maintenance along with the track, while Japan splits them out. That being said Japanese construction costs fall slightly outside the quoted range for EU HSR construction on the high end. This is actually quite unsurprising, given the terrain of Japan and the number of tunnels their trains go through. I also listed the stations that are new with these Shinkansen extensions, but it was not clear to me if they&amp;rsquo;re included in the price. If they are included then the per-km cost of these projects drops dramatically, if they&amp;rsquo;re not then they&amp;rsquo;re still no more than 10-11% more expensive than a the worst case European HSR projects.&lt;/p&gt;
&lt;p&gt;Secondly I&amp;rsquo;d like to draw attention to the Perpignan-Barcelona project, which is structured differently than SNCF projects. It &lt;a href=&#34;https://www.ladepeche.fr/article/2010/12/20/973804-historique-tgv-franchi-pyrenees-premiere-fois.html&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;appears&lt;/a&gt;
 that the project came in at the estimated cost of 1.1 billion euros including the tunnel which cost 300 million euros by itself. This brings the total cost of construction to an incredible 6.2 million euros per kilometer, way below the estimate. The company creating the project is going to run it for 53 years, and received a 540 million combined subsidy for its construction. To my eyes the only way this math works out is if that subsidy went entirely to constructing the route, and not to maintenance and operation, because if any is going to operation then the cost per km drops to implausibly low figures. This implies that at worst the expected operating loss is expected to be 540 million over 53 years, or 10 million per year.&lt;/p&gt;
&lt;h2 id=&#34;maintenance&#34;&gt;Maintenance&lt;/h2&gt;
&lt;p&gt;Casey goes on a long description about how wear works on HSR, which is very interesting but not something I need to copy and paste into this post. At the end of his description about HSR wear and maintenance, he makes this claim:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Maintenance costs that were already on the order of $200,000/km/year, in 2003 dollars.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Inflation adjusted that&amp;rsquo;s $322,617.39 per year/km. I would &lt;em&gt;love&lt;/em&gt; to know where he got that number, because I could not find it in any source Casey listed nor on my own.&lt;/p&gt;
&lt;p&gt;What I was able to find was an analysis of European rail costs in 2009 in the Economic Analysis of High Speed Rail ni Europe, and they produce &lt;em&gt;drastically&lt;/em&gt; different numbers than what is quoted here. The numbers I found from the 2009 paper listed a range from €12,919 to €71,650 per km total cost. I have a very hard time explaining how Italy is claiming a total maintenance cost of €12,919 per km (roughly $15,000)in 2002, while Japan is spending $200,000 per km in 2003 dollars. Yes, the Shinkansen sees more traffic than Italian HSR, but not enough to explain this difference. Rail maintenance costs scale with speed and frequency, and there is no reason to believe that HSR should cost that much to maintain in Japan. The Tokkaido Shinkansen operates 365 trains a day, compared to the 64 per day for the Florence-Rome line&lt;sup id=&#34;fnref:52&#34;&gt;&lt;a href=&#34;#fn:52&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;52&lt;/a&gt;&lt;/sup&gt;. The Shinkansen is faster (277kph vs 250kph), but the it&amp;rsquo;s also heavier (715 tons vs 598 tons). They both run through mountainous terrain, and include some fairly expensive infrastructure like viaducts and tunnels. I&amp;rsquo;m not sure which is likely to cost more, but I have an extremely hard time buying the idea that Japan is spending 13x per kilometer that Italy is.&lt;/p&gt;
&lt;h2 id=&#34;use-jets-instead&#34;&gt;Use Jets Instead&lt;/h2&gt;
&lt;p&gt;Right, so what about Casey&amp;rsquo;s suggestion that we just use 737s instead? Where do we land on that suggestion?&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This capacity could also be served by a fleet of just 40 737s (less than current LAX-SFO traffic), of which Boeing makes more than 500 per year.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Neither LAX nor SFO has the capacity to add this though. And while Boeing makes more than 500 a year, that&amp;rsquo;s because a lot of people are buying them for a lot of different routes. Realistically buying 40 planes for this route means giving up on either replacing 40 older planes with new ones, or 40 planes elsewhere in the network. There just isn&amp;rsquo;t spare capacity for that.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Bought new, this fleet would cost $3.6b, and with a lead time of, at most, a few months.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;That&amp;rsquo;s not how purchasing aircraft works. There is a backlog of aircraft based on other people&amp;rsquo;s orders. Maybe you can negotiate your way up to the front of the queue, but that will definitely drive the price up.&lt;/p&gt;
&lt;p&gt;Air Canada got its last 737 MAX 8 from its 2014 contract &lt;a href=&#34;https://simpleflying.com/air-canada-takes-40th-boeing-737-max-8/&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;this August&lt;/a&gt;
. As of September 2022 Boeing has 5,092 outstanding orders for the 737 MAX 8, and it&amp;rsquo;s deliverd 926 total. They&amp;rsquo;re hoping to get production up to get it up to 47 a month by 2023, but they&amp;rsquo;re regularly stopping and starting production due to component shortages. The A320 neo family of craft has a backlog of 6,095 aircraft, and they were delivering them at ~450 a year pre-pandemic.&lt;/p&gt;
&lt;p&gt;Not only are you not getting either of these aircraft in a few months, you&amp;rsquo;ll be lucky to get them by the end of this decade.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Upgrades to Modesto and Bakersfield airport terminals could service the 737 for mere $10s of millions.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;As we&amp;rsquo;ve seen, this is nowhere close to correct. Terminal expansions and rebuilds cost in the billions, not tens of millions. Adding a few gates to Bakersfield is probably a $1B project, minimum.&lt;/p&gt;
&lt;p&gt;Having lived in Los Angeles previously, I also find the idea of just upgrading Bakersfield kind of funny. You do realize how far Bakersfield is from LA, right? As I&amp;rsquo;m writing this, Google Maps claims that the travel time between downtown Los Angeles and Meadows Field is 2 hours at the minimum. And anyone who&amp;rsquo;s lived in Southern California knows that you cannot assume minimum travel times when it comes to traffic, I would either leave at an insane hour or pad that trip by 30-45 minutes just to be safe. There is a damned good chance that a HSR has made it from downtown LA to downtown SF before someone else has made it from LA to the Bakersfield terminal.&lt;/p&gt;
&lt;p&gt;Google Maps also claims similar travel times between Modesto and downtown SF. I have never been to Modesto though, so I can&amp;rsquo;t personally vouch for that.&lt;/p&gt;
&lt;h2 id=&#34;profitability&#34;&gt;Profitability&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Japan’s ostensibly private rail companies have gone bankrupt and been bailed out so many times I’ve lost count, racking up billion dollar yearly deficits year after year.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Citation needed on the &amp;ldquo;bankrupt and bailed out so many times&amp;rdquo;. Yes, the privatization process involved the government absorbing a ton of debt, but since then they&amp;rsquo;ve been profitable. JNR was plagued with cost overruns and inefficiencies in the post-war era, and those debts did need to go somewhere. But &amp;ldquo;JNR was poorly run&amp;rdquo; and &amp;ldquo;none of the JR groups have turned a profit since then&amp;rdquo; are distinct arguments.&lt;/p&gt;
&lt;p&gt;JR Central has &lt;a href=&#34;https://www.statista.com/statistics/695680/japan-net-income-jr-central/&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;increasing net incomes&lt;/a&gt;
 for the past 10 years, only going negative recently due to massive expenses constructing a new maglev shinkansen line&lt;sup id=&#34;fnref:53&#34;&gt;&lt;a href=&#34;#fn:53&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;53&lt;/a&gt;&lt;/sup&gt;. And it sure as heck looks like they&amp;rsquo;re planning on paying for that maglev train without any direct subsidies. They&amp;rsquo;ve borrowed 3 trillion yen from the state, and are building the rest up in a trust fund. Maybe we can gripe about subsidized government loans, but that applies to airports and airlines too.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Indeed, as far as I know there isn’t a single HSR route anywhere on Earth that operates profitably on ticketing revenue, and so operation always requires substantial subsidies.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So, what Casey is doing here is slipping in a political argument dressed as a practical financial one. Implicit in this discussion is the assertion that rail based transit must be profitable to be good. I disagree emphatically! Railways are a &lt;a href=&#34;https://en.wikipedia.org/wiki/Natural_monopoly&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;natural monopoly&lt;/a&gt;
, and a &lt;a href=&#34;https://en.wikipedia.org/wiki/Club_good&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;club good&lt;/a&gt;
. I am extremely comfortable with them losing money year over year and surviving on the back of public funds. If Casey wants to argue that rail &lt;em&gt;has&lt;/em&gt; to be profitable, he should make that argument explicitly.&lt;/p&gt;
&lt;p&gt;Of course, the original argument is that no HSR line has ever made money, and JR central runs a lot more than just HSR. If you dig into their annual &lt;a href=&#34;https://global.jr-central.co.jp/en/company/ir/annualreport/_pdf/annualreport2021-13.pdf&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;report&lt;/a&gt;
 you will see that the Shinkansen represents only 29% of JR central&amp;rsquo;s ridership, it represents 92% of the rail based revenue for JR Central. Even if we compare by passenger kilometers, the Shinkansen is 85% of the total. By passenger and by passenger kilometer, the Shinkansen makes more revenue than low speed rail.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;In fact, there is no way for the Shinkansen to not be profitable, according to their report. In FY2020.3 the Shinkansen made 1,261.3 billion yen in revenue, the conventional rail made 104.2 billion yen in revenue, and the overall rail business had an operating expense of 784.9 billion yen. Even if you believe that the conventional rail was literally free, then the Shinkansen still made 476.4 billion yen, four times what conventional rail pulled in.&lt;/strong&gt; No matter how you divvy up the maintenance budget between conventional and HSR, HSR is not only profitable but overwhelmingly so compared to regular rail. The idea that the HSR is the money loser in this company is risible.&lt;/p&gt;
&lt;p&gt;Oh yeah, and the original Shinkansen cost &amp;hellip; 400 billion yen! It does not take an accounting wizard to see how to make the Shinkansen turn a profit, even including debt service, upgrades, infrastructure maintenance and rolling stock upgrades over the years. Apparently it even managed to pay back the emergency World Back loan in 22 years, despite JNR being largely insolvent at that point in time.&lt;/p&gt;
&lt;p&gt;Of course there is another question worth asking: if we hold airlines up to this standard are they profitable? Because if the issue with HSR is construction costs, then shouldn&amp;rsquo;t we consider the costs of airport construction when it comes to airline profitability too? Pick literally any airport older than 1990 and start digging through its history and it&amp;rsquo;s easy to find billions of dollars of inflation adjusted government money. And that&amp;rsquo;s before we consider the $3B in direct FAA subsidies per year towards airports, $315m a year for rural air travel the $9B cost of the TSA, and god knows how many subsidies to the airlines in terms of trade policy. Oh, and subsidies to Boeing and Airbus remain the subject of international diplomatic conflict going back decades. The exact amount is disputed, but it&amp;rsquo;s in the billions easily.&lt;/p&gt;
&lt;p&gt;To be clear, I&amp;rsquo;m not saying that all of this is bad per se. I am personally very comfortable with government funding for things that are beneficial to the public, including very expensive infrastructure. What I am pointing out is that the standard of &amp;ldquo;profit without subsidies&amp;rdquo; is a standard that is selectively applied to rail travel and rail travel alone. That&amp;rsquo;s bullshit.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Of course roads also operate with public subsidies&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is true, but notice how we&amp;rsquo;ve subtly switched to a different standard from &lt;em&gt;profit&lt;/em&gt; to &lt;em&gt;subsidies&lt;/em&gt;. Casey is holding rail up to the standard of profitable, but reducing public contributions towards roads to mere &amp;ldquo;subsidy&amp;rdquo;. This is completely backwards though: most roads make &lt;em&gt;no&lt;/em&gt; profit! None! Their construction and maintenance is paid for out of a variety of taxes, precisely because they&amp;rsquo;re a common good. As a society we recoup those costs&lt;sup id=&#34;fnref:54&#34;&gt;&lt;a href=&#34;#fn:54&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;54&lt;/a&gt;&lt;/sup&gt; via economic activity and taxes on top of them.&lt;/p&gt;
&lt;h1 id=&#34;ca-hsr&#34;&gt;CA HSR&lt;/h1&gt;
&lt;p&gt;Okay, we do need to finally talk about CA HSR.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If we want to reduce CO2-generating air traffic between San Francisco and Los Angeles (a worthy goal!) then the HSR route must be, above all, fast. The oft-stated goal time of 2 hours and 40 minutes is both unachievably rapid with finite money and current technology, and also too slow to compete with aircraft&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Phase 1 of this project goes from Los Angeles to San Francisco, and has a distance of 840km. Traversing this in 2 hours and 40 minutes requires an average speed of 315kph. This is quite high for HSR, but not &amp;ldquo;unacheivably rapid with finite money and current technology&amp;rdquo;. The Jinghu High Speed Railway averages 298km right now, with the goal of getting that up to a 328kph average.  Even if a more pedestrian average of 300kph is managed that&amp;rsquo;s 2 hours and 48 minutes. I would not call this project a failure if it&amp;rsquo;s 2:48 when the goal was 2:40.&lt;/p&gt;
&lt;p&gt;Meanwhile a flight from LAX to SFO is anywhere from 1hr 10min to 1hr 30 min. Getting to and through LAX in an hour is a miracle in my experience&lt;sup id=&#34;fnref:55&#34;&gt;&lt;a href=&#34;#fn:55&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;55&lt;/a&gt;&lt;/sup&gt;, so plus the whatever it takes to get from SFO to your destination. Even on time alone, beating a plane on this route is not at all impossible. Heck, it doesn&amp;rsquo;t even seem that hard.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;but for insane TSA security delays that will probably also affect HSR&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Why are we assuming that HSR will have TSA checks? You can&amp;rsquo;t hijack a train, what function would the TSA perform? And why are we assuming that CA HSR will have TSA checks when Amtrak, regional rail systems, subway systems, and our peer nations don&amp;rsquo;t? There&amp;rsquo;s no reason we need the TSA here, we could just &amp;hellip; not use them.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Routing HSR on the east side of the central valley via Bakersfield and Modesto means those cities can have a station, but frequent services means that most trains have to stop there, and each stop adds 20 minutes to the travel time. Alternatively, the stations and their railway corridors are extremely expensive city decorations that help no-one because the trains, dedicated to a high speed SF-LA shuttle, never stop.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It is really weird to assert that all trains will stop, or none. The obvious solution to this, and the one that most systems use is to run a mix of trains that stop at every station and only some. To pick a random example the Tōhoku Shinkansen line in Japan runs four distinct services on the same track, each with their own mix of stations that they stop at and bypass.&lt;/p&gt;
&lt;p&gt;This obviously increases operating costs, but it would also increase ticket revenue to offset, since people won&amp;rsquo;t take HSR that doesn&amp;rsquo;t have convenient schedules. Solving this is not exactly rocket science.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;To a good approximation, HSR lines have to be dead straight. In Kansas or California’s central valley, this is fine, up to a constant in Eminent Domain. But both LA and SF are ringed by a series of extremely geologically active, steep, and tall mountain ranges. The Interstate 5 out of LA goes through the Grapevine, passing through a point where 5 (5!!) different active fault lines intersect in one place. Maintaining a useful speed through these mountains, not to mention densely populated areas nearby, requires nearly 100 miles of tunnels.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I mean, one of the most prolific HSR using and building nations in the world is Japan. 100 miles is not a lot tunnels to be honest. Sure, tunnels are more expensive than over flat terrain, but let&amp;rsquo;s not pretend that they&amp;rsquo;re some insurmountable obstacle. If Japan can make 33 miles of &lt;em&gt;undersea&lt;/em&gt; tunnel for $7B, I would hope that America could figure out tunneling through a mountain too. Also, Japan is probably more seismically active than California.&lt;/p&gt;
&lt;p&gt;HSR also does not need to be dead straight. The TGV has grades up to 3.5%&lt;sup id=&#34;fnref:56&#34;&gt;&lt;a href=&#34;#fn:56&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;56&lt;/a&gt;&lt;/sup&gt;, and curve radii anywhere between 4km (for 320kph service) and 7km for future&lt;sup id=&#34;fnref:57&#34;&gt;&lt;a href=&#34;#fn:57&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;57&lt;/a&gt;&lt;/sup&gt; speed improvements. Tilting trains are also an option here, and are commonly used for 250kph service on existing rights of way. Tilting trains of 350kph service would be new, but not revolutionary, and they should let the minimum radius for 350kph be as low as 4km.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;of tunneling costs are orders of magnitude too high,&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is a political issue in America, maybe we should fix that instead of abandoning the construction of important infrastructure?&lt;/p&gt;
&lt;h1 id=&#34;weird-assertions&#34;&gt;Weird Assertions&lt;/h1&gt;
&lt;p&gt;Here&amp;rsquo;s a list of weird, one off assertions that irked me. They&amp;rsquo;re not that important to my central thesis, but I just couldn&amp;rsquo;t let them go.&lt;/p&gt;
&lt;h2 id=&#34;ground&#34;&gt;Ground&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Hovercrafts have not caught on for the same reason as HSR – above 100 mph, the Earth is too rough to travel close to its surface.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;No, they didn&amp;rsquo;t catch on because they&amp;rsquo;re about as energy hungry as airplanes are, while traveling much slower. Scroll up to the von Kármán–Gabrielli Diagram section again and check out the updated graph.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This is also intuitively obvious to pilots, who understand that making a habit of flying planes within 20 m of the surface, particularly in mountains, is a career-limiting move.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Erm, isn&amp;rsquo;t the problem less that the ground is bumpy, and more that aircraft aren&amp;rsquo;t designed to fly close to the ground all the time? This is a bit like saying that the space shuttle doesn&amp;rsquo;t fly as well as a 737; you&amp;rsquo;re evaluating a vehicle in a context wildly different from the one it was designed for.&lt;/p&gt;
&lt;p&gt;Also, we absolutely do have vehicles that go above 100mph, it&amp;rsquo;s called High Speed Rail! They literally exist and literally go above 100mph. &lt;a href=&#34;https://knowyourmeme.com/memes/i-feel-like-i-m-taking-crazy-pills&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;I feel like I&amp;rsquo;m taking crazy pills!&lt;/a&gt;
&lt;/p&gt;
&lt;h2 id=&#34;los-angeles&#34;&gt;Los Angeles&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;In Los Angeles during the age of streetcars, a fire anywhere in the city would result in water hoses crossing the street from hydrant to firetruck, and then the network ground to a halt because steel wheels can’t cross a hose or surmount a temporary hump!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Perhaps this is historically true, but there are pretty easy fixes to this. You can just put in more fire hydrants, or stop a streetcar if it&amp;rsquo;s too close to a fire. Heck, you should probably do that anyways for safety reasons.&lt;/p&gt;
&lt;p&gt;Also, the number of fires fought per year by fire fighters per year has been &lt;a href=&#34;https://www.vox.com/2014/10/30/7079547/fire-firefighter-decline-medical&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;dropping&lt;/a&gt;
 for a while now. Part of the reason why they&amp;rsquo;re always at car crashes is because we&amp;rsquo;ve trained them as paramedics to give them something to do. I personally don&amp;rsquo;t think we should adjust the transit mechanism for an entire city soley because we&amp;rsquo;ll have to ocasionally stop one line in the case we end up having to fight a fire despite fires being drastically less common nowadays.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Building a metro system in an existing dense city is also great (if we can avoid cost disease) but for most of the cities in the US, the suburbs are already not walkable enough to enable non-vehicle transport to a neighborhood station. The suburbs of LA will never be able to depend on a Manhattan or Vienna-style underground railway.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;hellip; You were literally just talking about the streetcar network LA had previously? I don&amp;rsquo;t see why we can&amp;rsquo;t just &amp;hellip; rebuild that. Especially since it&amp;rsquo;s not like it wasn&amp;rsquo;t popular beforehand, &lt;a href=&#34;https://en.wikipedia.org/wiki/General_Motors_streetcar_conspiracy&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;it was purchased and sabotaged by car companies on purpose&lt;/a&gt;
.&lt;/p&gt;
&lt;h2 id=&#34;japan&#34;&gt;Japan&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Add to that various Japanese prohibitions on certain weapons technology in the post war period and high speed rail served as a government imposed solution to mass transportation.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It&amp;rsquo;s a minor thing, but trains are critical military infrastructure, we&amp;rsquo;ve just forgot that. JNR was literally taken over by the Japanese military during WW2. The US nationalized the rail roads in WW1. The US army still has a MOS for driving a train, 88U.&lt;/p&gt;
&lt;p&gt;Even if you&amp;rsquo;re an island nation, the ability to move people around quickly and cheaply has obvious military implications.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Japan and much of China is relatively mountainous, historically relatively poor, and historically beset by relatively poor transport networks.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;hellip; But I thought the argument was that HSR is too expensive and doesn&amp;rsquo;t work wherever the earth isn&amp;rsquo;t that flat? You can&amp;rsquo;t have it both ways here, either it&amp;rsquo;s inherently expensive, or it&amp;rsquo;s the choice of poor countries that can&amp;rsquo;t afford a lot of air and car travel. It can&amp;rsquo;t be both.&lt;/p&gt;
&lt;h2 id=&#34;road-cost&#34;&gt;Road Cost&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;For example, the I-70 cost an average of about $2m/mile, despite routing through remote and mountainous parts of Utah&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;No way. Here are three major pieces of infrastructure along that road, inflation adjusted to 2020 dollars.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Eisenhower tunnel bore: $490m&lt;/li&gt;
&lt;li&gt;Johnson tunnel bore: $384m&lt;/li&gt;
&lt;li&gt;Glenwood Canyon: $828 m&lt;/li&gt;
&lt;li&gt;San Rafael Swell: $1.3B&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These sum up to $3B, which leaves a measily $1B for the &lt;em&gt;rest of the highway&lt;/em&gt;, or an impossible $450K per mile. These must be 1950 dollars.&lt;/p&gt;
&lt;p&gt;A 2011 &lt;a href=&#34;https://westdavis.udot.utah.gov/wp-content/uploads/2019/10/TM16_Level_2_Screening_Cost_Estimates-0.pdf&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;memorandum&lt;/a&gt;
 on the West Davis corridor project estimated $8M per mile of new four lane highway, $10M per five lane arterial, and $19M per interchange. Florida DOT &lt;a href=&#34;https://www.fdot.gov/programmanagement/estimates/documents/costpermilemodels&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;estimates&lt;/a&gt;
 that a new 4 lane divided interstate costs $6M a mile in rural areas, and $13M in urban areas. And Florida doesn&amp;rsquo;t really have mountains. No way you&amp;rsquo;re getting a highway through that kind of terrain for $2M a mile in 2020 dollars.&lt;/p&gt;
&lt;p&gt;People drastically underestimate how much roads cost.&lt;/p&gt;
&lt;h2 id=&#34;cost-overrun&#34;&gt;Cost Overrun&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;The vast majority of this is unfunded, and yet the final project will almost certainly cost at least 10x this if it ever completed&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I agree that this project is overly expensive, but now you&amp;rsquo;re just making numbers up.&lt;/p&gt;
&lt;h1 id=&#34;conclusions&#34;&gt;Conclusions&lt;/h1&gt;
&lt;p&gt;Train good. Faster train better.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;The first draft said &amp;ldquo;ealier today&amp;rdquo;. That was an optimistic assumption on my part about how long this would take to write.&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;With some very basic back of the envelope estimates, track construction should cost anywhere between $8.4B and $37B based on historical estimates of European HSR construction, with another few billion for stations and rolling stock. Instead it&amp;rsquo;s going to cost $113B, or about three times too much.&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;There is no way this post can be considered &amp;ldquo;concise&amp;rdquo;&amp;#160;&lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:4&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Even using inflation alone is somewhat suspect. Inflation generally measures the change in price for a &amp;ldquo;basket of goods&amp;rdquo; that end users are price sensitive for. Milk, meat, housing, gasoline, etc. While a lot of this does affect construction costs (workers need to afford food and housing, etc.), they are not directly linear. Similarly steel costs do not directly affect consume good prices, but indirectly. None of this also accounts for improvements in productivity. Just because something cost $X dollars in 1950 does not mean it&amp;rsquo;ll cost $X inflation adjusted now if we&amp;rsquo;re using more efficient machines and techniques. But we&amp;rsquo;ve gotta do something to compare numbers, and I don&amp;rsquo;t see a better tool available.&amp;#160;&lt;a href=&#34;#fnref:4&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:5&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;This is probably a partial explanation for why China has built so much HSR.&amp;#160;&lt;a href=&#34;#fnref:5&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:6&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Personally I think the EU&amp;rsquo;s definition structure makes sense, although I would fiddle with the numbers a bit. I think that defining HSR as only being above 250kph/155mph leaves us with the rather unsatisfying situation of considering both a 125mph interurban and a 60mph urban metro as being equivalently slow. I would&amp;rsquo;ve made Category I the slowest, and Category III the fastest, which makes adding Categories IV and V trivial if we make faster rail one day. I don&amp;rsquo;t think categorizing a 250kph  TGV and the 431khp Shanghai maglev as both being equally &amp;ldquo;Category I&amp;rdquo; feels correct.&amp;#160;&lt;a href=&#34;#fnref:6&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:7&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;They also define &amp;ldquo;very high speed rail&amp;rdquo; as peaking over 250kph and averaging 200kph.&amp;#160;&lt;a href=&#34;#fnref:7&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:8&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Indeed, once we define HSR as 250kph and above we end up with 21 countries with operating service, 9 actively building or upgrading lines, 8 planning, and another 3 with plans that are currently on hold.&amp;#160;&lt;a href=&#34;#fnref:8&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:9&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Airports are fundamentally a nuisance, so there are practical, political limits on where they can be placed. In all but one of the cities I&amp;rsquo;ve lived in it took an average of an hour or more to get from my house to the airport door. The worst was LAX, by far. Generally the smaller the airport the better, but alas these also represent a proportionally small percentage of travel miles.&amp;#160;&lt;a href=&#34;#fnref:9&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:10&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Some of these could be improved, but my suspicion is that most are inherent. Nothing is going to move LAX to a more convenient location, and there are several profit-motivated actors involved that want to minimize these delays so that they can sell more tickets and move more people with the same infrastructure spend. If Southwest cannot get the turnaround time down further, then there is probably very little room for improvement.&amp;#160;&lt;a href=&#34;#fnref:10&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:11&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Which comes out to 150mph. Presumably if America used metric they would&amp;rsquo;ve gone with 250kph, since people do love nice round numbers.&amp;#160;&lt;a href=&#34;#fnref:11&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:12&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;This is not a typo.&amp;#160;&lt;a href=&#34;#fnref:12&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:13&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Also, methane isn&amp;rsquo;t jet fuel.&amp;#160;&lt;a href=&#34;#fnref:13&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:14&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Personally I think that if you&amp;rsquo;re creating methane from atmospheric carbon, the best thing you can possibly do is bury it rather than burning it again and potentially leaking some. Methane has a warming potential about 80X of CO2 over the first 20 years, so if you leak more than 1/80th (1.25%) of the produce methane, you&amp;rsquo;re actually making the situation worse. Leaking methane from power and home heating is actually a big issue, we should do something about that.&amp;#160;&lt;a href=&#34;#fnref:14&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:15&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;JR Central claims that the Shinkansen beats air travel for the same route by a factor of 1:8 per MJ and 1:12 for CO2 per seat. If we adjust for the non-CO2 warming of jet travel it&amp;rsquo;s 1:24 or higher. Even using synthetic fuels captured from atmospheric carbon doesn&amp;rsquo;t move the ratio beyond 1:12.&amp;#160;&lt;a href=&#34;#fnref:15&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:16&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;God, I love the metric system.&amp;#160;&lt;a href=&#34;#fnref:16&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:17&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Especially since the alternative more often than not is just highways.&amp;#160;&lt;a href=&#34;#fnref:17&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:18&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;The TGV Duplex highlights the flexibility of rolling stock design, because it uses a mix of refurbished TGV Réseau carriages and Euroduplex carriages.&amp;#160;&lt;a href=&#34;#fnref:18&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:19&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Maximum theoretical configuration. This train is not yet in operation. The TGV M features a modular interior, and is designed to run with anywhere between 7 and 9 carriages. Most will be smaller than this.&amp;#160;&lt;a href=&#34;#fnref:19&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:20&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;I do not have 2019 numbers available, but 2018 was smaller than 2021 in terms of total passengers, so I think this number is safe to use.&amp;#160;&lt;a href=&#34;#fnref:20&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:21&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;The minimum safe headway of a rail system is determined by signal design, driver reaction speed, and vehicle braking performance. This is part of the rationale for a maglev train, which can accelerate at higher speeds and therefore can reduce the minimum safe headway and travel time. The L0 maglev train should take a bit under 4 minutes to hit 603 kph, while the N700S takes 3 minutes to hit 270kph.&amp;#160;&lt;a href=&#34;#fnref:21&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:22&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Then again, I&amp;rsquo;m writing this note at 3:42AM for largely similar reasons.&amp;#160;&lt;a href=&#34;#fnref:22&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:23&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;The original paper did not make it clear what kind of train it was, but given the very low max speed I suspect it&amp;rsquo;s steam.&amp;#160;&lt;a href=&#34;#fnref:23&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:24&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;The lifecycle for HSR appears to be about 25 to 30 years for high speed service. Sometimes older models are refurbished and reused for slower or less important routes.&amp;#160;&lt;a href=&#34;#fnref:24&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:25&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;This implies that driving by road might be more energy efficient once a car has two to three people in it, which seemed counterintuitive to me. The Sierra Club had a &lt;a href=&#34;https://www.sierraclub.org/sierra/ask-mr-green/whats-better-for-environment-driving-or-flying&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Q&amp;amp;A&lt;/a&gt;
 about this and seem to largely agree with this assertion though. They also then argued for hitch-hiking, because you know, it&amp;rsquo;s the Sierra club.&amp;#160;&lt;a href=&#34;#fnref:25&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:26&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Since 2009 several narrow body jets have converted to the more efficient CFM Leap engine, including the A320-neo and the infamous 737 MAX series. Airbus claims 15-20% lower full burn for the A320-neo, and Boeing claims 14% less than the previous 737NG. Applying these numbers gets us anywhere between 1.44 and 1.53.&amp;#160;&lt;a href=&#34;#fnref:26&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:27&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Personally I think &amp;ldquo;free&amp;rdquo; is the wrong way to view the interaction between authors and their readers. Both of us are writing blogs to persuade people and convince our readers that we&amp;rsquo;re smart people who have good ideas; we both get something out of this, even if it&amp;rsquo;s not money.. I think that part of this interaction is that authors should try and exercise diligence when writing, and correct honest mistakes when they&amp;rsquo;re pointed out. We owe our readers some level of rigor even they&amp;rsquo;re not paying us.&amp;#160;&lt;a href=&#34;#fnref:27&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:28&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;There exist one maglev train in operation, and one seriously being constructed. The one in use is a relatively short line between Shanghai and its airport. Cool, but not that impactful. The interesting one is the Chūō Shinkansen, which is being built. JR Central is spending a gobsmacking amount of money on this, and I have no clue why, since to my amateur eye I don&amp;rsquo;t think regular HSR wouldn&amp;rsquo;t work. But it&amp;rsquo;s not my money, and I personally really love the &amp;ldquo;dudes rock&amp;rdquo; energy they&amp;rsquo;re showing here.&amp;#160;&lt;a href=&#34;#fnref:28&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:29&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;The correct number seems to be 19,920, although the data on the smallest airports appears to be kind of sketchy. I am assuming his number is old, but this correction strengthens his argument.&amp;#160;&lt;a href=&#34;#fnref:29&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:30&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;This excludes commercial pilots. I feel like including them is a bit like including train operators or taxi drivers in this analysis: their means of transit is drastically affected by their chosen vocation to the point where it&amp;rsquo;s not representative of the general population. Also, there is no guarantee that commercial pilots own their own planes for use in general aviation airports.&amp;#160;&lt;a href=&#34;#fnref:30&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:31&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Casey has indicated that he is a pilot, so he has access to all these airports. Which, good for him! More than once I&amp;rsquo;ve dreamed about getting my own license and plane, and I&amp;rsquo;m sure it&amp;rsquo;s nice to hop in your plane and travel without having to deal with traffic and what not. But the percentage of the US population who can reasonably do this is so small, I do not think it&amp;rsquo;s fair or reasonable to include it in a comparison between HSR and air travel.&amp;#160;&lt;a href=&#34;#fnref:31&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:32&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;In general I think it&amp;rsquo;s a mistake to compare private owner-operated general aircraft to mass transit, because these planes are really more about enjoyment than practical transit. You buy and operate a plane because you like flying, not because it&amp;rsquo;s necessarily an efficient way to get around. Owning a plane involves a lot of fixed costs, and you have to fly a lot of hours before the per hour cost gets under control. But since this is about comparing things, I do feel compelled to point out that these planes are pretty danged slow compared to scheduled air service or HSR. There are indeed general avitaion planes that can outrun HSR, like the Mooney M20 (278 mph cruise) or the Cirrus SR22 (211mph), but the vast majority of private planes are going to be your used Cessna 172s and Piper Cherokees, both of which top out around 140mph.&amp;#160;&lt;a href=&#34;#fnref:32&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:33&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;According to the Bureau of Traffic Statistics, in July of 2022 there were 467,000 non-scheduled flights, and 80,360,000 scheduled flights. Similarly over the 12 months ending in July of 2022 there were 4,421,000 non-scheduled flights and 808,627,000 scheduled flights. So non-scheduled flights represent 0.56% of overall flights. Revenue passenger miles show similar proportions. This is such a tiny percentage I feel ok in ignoring this type of flight and the airports that only serve it from our analysis.&amp;#160;&lt;a href=&#34;#fnref:33&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:34&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;It also brings my personal travel record up to anywhere between 4-15% depending on whether on whether we&amp;rsquo;re including nonhub and reliever airports or not. This feels much more intuitively correct.&amp;#160;&lt;a href=&#34;#fnref:34&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:35&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Communication tools like email and social media tend to show strong network effects.&amp;#160;&lt;a href=&#34;#fnref:35&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:36&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Factorial, not a generic explanation mark.&amp;#160;&lt;a href=&#34;#fnref:36&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:37&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://www.iflyboise.com/travel-planner/nonstop-destinations/&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Here&lt;/a&gt;
 is the map.&amp;#160;&lt;a href=&#34;#fnref:37&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:38&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;This is precisely the case I made at the beginning of this article. Not every pair of cities makes sense to connect via HSR. Your basic passenger train could trivially outrun cars on this route, and even with stops in between. The MPI MPXpress used by the Chicago Metra maxes out at 102 mph, and could do an express run in about half as long as a car can. Oh, and it was made in Boise, the irony.&amp;#160;&lt;a href=&#34;#fnref:38&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:39&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;The effective result of not having even regular speed rail offerings in the US is that a lot of trips get shifted from mass transit to individual vehicles. This has a lot of downsides that are not immediately obvious, including increased road deaths and health costs associated with road air pollution. While we will never be able to get these numbers down to zero, there is an argument that creating transit options that reduce car miles travelled would pay for itself in the reduced externalities of excess road miles. But that&amp;rsquo;s the subject for another post.&amp;#160;&lt;a href=&#34;#fnref:39&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:40&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;The one offered by the defunct B&amp;amp;O, not the Amtrak line of the same name. Amtrak does not offer the branch service to Youngstown.&amp;#160;&lt;a href=&#34;#fnref:40&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:41&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Consider how small Charles De Gaulle airport is, for example. It&amp;rsquo;s only the 31st busiest airport in 2021, despite it serving the largest metro in Europe and being one of the most visitied cities in the world. And sure, you expect cities like Delhi Beijing to be busier, but what&amp;rsquo;s shocking is how many American airports are busier. Charlotte North Carolina saw 20 million more passengers than Charles De Gaulle did. Oh, and CDG was unbelievably cheap to construct, too. Inflation adjusted it only cost $1.4B. Denver International Airport cost 6x as much, and it was made in an empty field outside of Denver rather than in Europe&amp;rsquo;s biggest city.&amp;#160;&lt;a href=&#34;#fnref:41&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:42&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;It&amp;rsquo;s also possible that shifting some road traffic over to HSR will cause new road traffic to be generated to maintain the traffic equibrium. This does not reduce externalities, but it does mean that more economic activity is happening for the exact same road network. So this is good, but not as good as I first stated. C&amp;rsquo;est la vie.&amp;#160;&lt;a href=&#34;#fnref:42&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:43&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;This largely works because the really big cost for HSR is the tracks itself. The trainsets are quite cheap. France&amp;rsquo;s new 740 seat TGV M cost €2.7 billion for the first 100 sets, or a mere €27 million per trainset. The 1,323 seat N700A cost $591.5 million back in 2014, or about $37m per train, and will soon be automated for lower operating cost.&amp;#160;&lt;a href=&#34;#fnref:43&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:44&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Americans seem to be politically squeamish about direct subsidies for a lot of things, but the military is a great way to sneak a subsidy in without issue. Heck, the law creating our highway system was the &amp;ldquo;National Interstate and Defense Highways Act (1956)&amp;rdquo;.&amp;#160;&lt;a href=&#34;#fnref:44&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:45&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;The bond is very clear about it not being general revenue funds, and in the case where revenue does not cover the bond repayment the tax payers are protected. But this also seems to prevent any surplus revenues from ever reaching the general fund where they can be spent by the city. The  document says that &amp;ldquo;At the discretion of the City, all or a portion of the remaining Revenues may be deposited to the Surplus Fund to be used for any lawful Airport System purpose.&amp;rdquo;, which is effectively locking tax and fee revenue away from future city use.&amp;#160;&lt;a href=&#34;#fnref:45&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:46&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Cost overruns like this are regularly a point against HSR and other rail transit projects, but they&amp;rsquo;re also super common in road and airplane projects as well. Personally the fact that only some of these get called out irks me.&amp;#160;&lt;a href=&#34;#fnref:46&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:47&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Lol, Chicago, what are you doing?&amp;#160;&lt;a href=&#34;#fnref:47&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:48&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Part of a $15B project to modernize LAX before the olympics. Necessary, because LAX is &lt;em&gt;awful&lt;/em&gt;, but holy crap it&amp;rsquo;s expensive.&amp;#160;&lt;a href=&#34;#fnref:48&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:49&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;This is a US military base.&amp;#160;&lt;a href=&#34;#fnref:49&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:50&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;This is the total cost, not the subsidy. The actual subsidy was €540m split between the EU, France, and Spain.&amp;#160;&lt;a href=&#34;#fnref:50&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:51&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Using the year wide average of 0.877 USD/EUR&amp;#160;&lt;a href=&#34;#fnref:51&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:52&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Newer lines exist, and ridership has been up drastically for Italian HSR since then, but these cannot be reflected in the maintenance costs from 2002, so I am excluding them.&amp;#160;&lt;a href=&#34;#fnref:52&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:53&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;And due to Covid. But airlines needed a massive bailout there too, not the fault of either of them.&amp;#160;&lt;a href=&#34;#fnref:53&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:54&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;But not always. High road maintenance costs are a decent chunk of what finishes off shrinking towns, as the reduced economic activity and road maintenance budget create a positive feedback loop. &lt;a href=&#34;https://www.strongtowns.org/&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Strong Towns&lt;/a&gt;
 has a lot of info on this, with their argument being that we need to be more careful about road construction and its long term costs.&amp;#160;&lt;a href=&#34;#fnref:54&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:55&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Sitting in my car for 45 minutes in a queue of traffic on Lincoln Ave to get into the airport entrance is seared into my memory indelibly. Getting to, through, and from LAX airport was always among the worst flying experiences possible. Oh, and the coffee in Terminal 1 sucked.&amp;#160;&lt;a href=&#34;#fnref:55&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:56&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;One of the great advantages of electrified trains is that you get potential energy back under regenerative braking. The issue with steep grades is the amount of energy required to maintain any given speed, but most HSR trainsets are capable of higher outputs for short periods of time. So steep grades can be okay for short bursts.&amp;#160;&lt;a href=&#34;#fnref:56&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:57&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;The math on train minimum radii indicates that this should be for 400kph service.&amp;#160;&lt;a href=&#34;#fnref:57&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
    </item>
    
    <item>
      <title>Parler, AWS, and the ACLU</title>
      <link>http://ashtonkemerling.com/posts/parler-aws-aclu/</link>
      <pubDate>Tue, 12 Jan 2021 01:00:00 -0700</pubDate>
      
      <guid>http://ashtonkemerling.com/posts/parler-aws-aclu/</guid>
      <description>&lt;h1 id=&#34;parler-aws-and-the-aclu&#34;&gt;Parler, AWS, and the ACLU&lt;/h1&gt;
&lt;p&gt;Parler was recently kicked off AWS, and as of this writing is currently offline. I would be fairly surprised if we see it come back online anytime soon.&lt;/p&gt;
&lt;p&gt;I was only mildly surprised to see the ACLU step in to make arguments on Parler’s behalf, but not that surprised. Free Speech law and general advocacy almost universally involves defending speech that is either unpopular or said by repulsive people; popular speech is rarely first up to be banned. Usually suppressing unpopular speech is the first step to more general suppression, which is why groups like the ACLU often end up defending the speech of unpleasant people.&lt;/p&gt;
&lt;p&gt;But I was deeply irked to see this sentence from them:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;But there is a difference between a social media platform like Twitter, which is a speech community, deciding who its members are and what its guidelines should be, and a company like Amazon that really holds the keys to the internet.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is objectively nonsense. The implication is that AWS has the power to deny companies and people the ability to host their content online based on their political views, “mob” sentiment, or whether or not Bezos personally hates you. This does not hold water. Not only does it not hold water, this statement by the ACLU can be interpreted in some fairly authoritarian ways, which is less than great.&lt;/p&gt;
&lt;p&gt;Here are the best arguments I could think of for making AWS take Parler back and why they’re all wrong.&lt;/p&gt;
&lt;h2 id=&#34;on-monopoly&#34;&gt;On Monopoly&lt;/h2&gt;
&lt;p&gt;Typically the first argument here is that AWS controls so much of the market place that their ability to deny you access to their services is a death knell. The person making this argument will occasionally self consciously call AWS a monopoly. Once you do any research on the subject, you&amp;rsquo;ll realize that not only is this not true, it&amp;rsquo;s almost hilariously not true.&lt;/p&gt;
&lt;p&gt;AWS has competitors, big ones. You can probably name two, and Oracle deeply wishes that you&amp;rsquo;d name three. Even if we just restrict ourselves to “the cloud”, you already have at least three or four options; more options than you have purchasing a cell phone in the US, both in terms of contract or ecosystem.&lt;/p&gt;
&lt;p&gt;Oh, and AWS themselves estimated that only 4% of companies&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt; are on &amp;ldquo;the cloud&amp;rdquo;, any cloud. That only leaves a measly &lt;em&gt;96% of companies&lt;/em&gt; that are using hosting providers that aren&amp;rsquo;t in the big three.&lt;/p&gt;
&lt;p&gt;Secondly, there are a lot of hosting providers. By most estimates AWS isn’t even the largest hosting provider in the world; it’s estimated that GoDaddy hosts a bit under twice as many websites (not companies) as AWS. There are literally &lt;em&gt;hundreds&lt;/em&gt;&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt; of hosting providers of various different sizes, capabilities, and prices all within the US. In a very real way, the average American might have more hosting providers than local food options. There is no monopoly in this market, and there are too many for there to be a meaningful cartel.&lt;/p&gt;
&lt;p&gt;And that’s before we even mention self hosting. There are a literally uncountable number of places one could co-locate servers or reasonably build a datacenter.&lt;/p&gt;
&lt;p&gt;No, there is no plausible claim that AWS has a monopoly hold on internet hosting.&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;h2 id=&#34;on-the-mob&#34;&gt;On “The Mob”&lt;/h2&gt;
&lt;p&gt;Side note: I find it frustrating that less than a week after a literal mob stormed the Capitol to assassinate multiple members of Congress that people are still trying to compare public outrage on social media as a mob. Twitter outrage can be scary, but please come up with a new term.&lt;/p&gt;
&lt;p&gt;The second theory is that public outrage is so strong that no hosting provider will ever provide for such unpleasant services.&lt;/p&gt;
&lt;p&gt;So, um, why is 8kun still up?&lt;/p&gt;
&lt;p&gt;Like “cancelled” celebrities going around talking about their “cancellation”, the ability for the crowd to actually take these websites down is overstated. It happens, obviously, but it doesn&amp;rsquo;t seem to happen anywhere near as often as we talk about it. LiveLeak is still up after videos of the Christchurch mosque shootings were posted on it. 4chan is still up. ZeroHedge&lt;sup id=&#34;fnref:4&#34;&gt;&lt;a href=&#34;#fn:4&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;4&lt;/a&gt;&lt;/sup&gt; is still up. Controversial websites either find companies that don’t mind hosting them, self host, or move their hosting to countries which either like their content or don’t care about its unpopularity in the America. There’s a reason why 8kun is hosted in Russia, for example.&lt;/p&gt;
&lt;p&gt;Parler is not being forced offline by outrage; that is only the proximate trigger. If they want to they can find new hosting companies that don’t care, or find a new jurisdiction where social outrage in America won’t have any effect.&lt;/p&gt;
&lt;h2 id=&#34;on-net-neutrality&#34;&gt;On Net Neutrality&lt;/h2&gt;
&lt;p&gt;As a society, we’ve decided that you have a right to purchase certain goods and services based purely on your geography. It doesn’t matter how much of an unpleasant jerk you are, you still have the right to purchase electricity and water from the utility company, and nobody can stop that.&lt;/p&gt;
&lt;p&gt;Utilities also don’t have a right to tell you what to do with what they sell you. The power company can’t say “You can’t power sex toys with this, that’s gross”; and it’s good that they don’t have that power&lt;sup id=&#34;fnref:5&#34;&gt;&lt;a href=&#34;#fn:5&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;5&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;ISPs are not currently in that category, even though there are lots of good arguments that they should be. I personally am very pro net-neutrality, for what it’s worth, and I think that we as a society should classify ISPs as a utility.&lt;/p&gt;
&lt;p&gt;Does that affect the Parler/AWS issue? No. Because I don’t think that AWS is anything close to an ISP or a utility.&lt;/p&gt;
&lt;p&gt;The primary reason why we’ve decided to treat utilities that way is because infrastructure doesn’t scale. For most utilities, it is not physically possible for another company to spring up and duplicate every power line or water pipe in order to offer a parallel service&lt;sup id=&#34;fnref:6&#34;&gt;&lt;a href=&#34;#fn:6&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;6&lt;/a&gt;&lt;/sup&gt;. It is effectively impossible for there to be anything but a monopoly for utilities, so we regulate them much more heavily.&lt;/p&gt;
&lt;p&gt;Secondly, utilities offer a commodity product. Electricity is electricity, all tap water is treated to EPA limits, and you don’t really care about different ways your sewage and trash could be processed. There is no space for innovation in this area, because they all produce a commodity product that’s produced to a universal standard.&lt;/p&gt;
&lt;p&gt;I think that ISPs fit neatly into this mold, but I don’t think that hosting companies do. Hosting companies do not have the same space and cost limitations that your water company does; if you wish to buy hosting from Kazakhstan then you’re free to do so. Hosting companies also do not offer a uniform product; AWS is not the same as GCP which is not the same as GoDaddy. The choice available to the end consumer is actually breathtakingly large and diverse, unlike power and water.&lt;/p&gt;
&lt;h1 id=&#34;what-actually-happened&#34;&gt;What Actually Happened&lt;/h1&gt;
&lt;p&gt;What actually happened was a complete and utter failure of planning on Parler’s side. Well, multiple failures of planning&lt;sup id=&#34;fnref:7&#34;&gt;&lt;a href=&#34;#fn:7&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;7&lt;/a&gt;&lt;/sup&gt;&lt;sup id=&#34;fnref:8&#34;&gt;&lt;a href=&#34;#fn:8&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;8&lt;/a&gt;&lt;/sup&gt;, but we’ll focus on one.&lt;/p&gt;
&lt;p&gt;Having a single hosting provider is a risk. Having one that requires deep integration into your technical stack is a bigger risk. Doing that while being aware that you’re controversial is foolhardy to a degree I can’t imagine. Sane businesses try to avoid risk as much as possible, or at least create contingency plans for cases where the risk is worth the reward.&lt;/p&gt;
&lt;p&gt;Knowing everything that we know about Parler, choosing to deploy on AWS was a huge risk. They should have known that they would be controversial, and they should have had a backup plan that doesn’t involve trying to sue one of the richest companies on the planet on &lt;a href=&#34;https://twitter.com/questauthority/status/1348686562415042561&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;flimsy legal theories&lt;/a&gt;
. If I were them I wouldn’t have started off with AWS. Or, if I had I would&amp;rsquo;ve migrated a few years ago as the heat began to rise. Or, at least I would&amp;rsquo;ve written a plan and practied a migration at the very minimum. Literally &lt;em&gt;anything&lt;/em&gt; other than letting an entirely predictable problem catch them flat footed.&lt;/p&gt;
&lt;p&gt;That they weren’t ready for such an obvious risk is their problem, not ours as a society. Companies far less controversial than Parler have contingency plans if they need to leave AWS; a failure of planning on their part does not create an emergency for the rest of us.&lt;/p&gt;
&lt;h1 id=&#34;why-its-worrying&#34;&gt;Why It’s Worrying&lt;/h1&gt;
&lt;p&gt;The ACLU’s comments leave open an interesting question: So what are they actually proposing?&lt;/p&gt;
&lt;p&gt;It’s possible that they’re just commenting on this socially. In which case I really wish that they’d consult with engineering experts before making such obvious mistakes. Complaining that AWS didn’t provide a reasonable time window for them to migrate is one thing, claiming that they have the “keys to the internet” is another. Although if this really just comes down to process complaints, it’s not exactly clear why the ACLU is stepping in at all. Complaints about how big cloud providers offboard users feels like something that the EFF is much better positioned to handle, in my opnion.&lt;/p&gt;
&lt;p&gt;It’s also possible that they’re recommending that something be done, which is scary to me. It is not uncommon to hear calls for the government to step in here and force companies to do something for the sake of “free speech”. Given that the ACLU primarily deals with the government, I have a hard time not jumping to that assumption myself even if it’s not explicitly said.&lt;/p&gt;
&lt;p&gt;I don’t expect a lot of people to feel sympathy with the trampled rights of large corporations, but the idea that the government would step in and force companies to do business with someone against their will&lt;sup id=&#34;fnref:9&#34;&gt;&lt;a href=&#34;#fn:9&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;9&lt;/a&gt;&lt;/sup&gt; is quite alarming. That is a wildly dangerous power to hand out to a government, and it is one that will be abused eventually. Where exactly does that power end? I’m not exactly sure, but I can&amp;rsquo;t imagine it being good.&lt;/p&gt;
&lt;p&gt;To my eye, there isn’t anything here for the ACLU to weigh in on, and I’m disappointed that they’ve decided to come out so disastrously on this one.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;I think engineers often underestimate how much the thought leadership of FAANG and other top tier companies affect perception far ahead of reality. Not everyone is on AWS, even though everyone &lt;em&gt;talks&lt;/em&gt; about AWS. This is the exact same process that leads engineers to talk about Rust and act surprised at how much PHP is still being written.&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;I found a list with &amp;ldquo;101+ Hosting Providers to Try in 2021&amp;rdquo; and decided that that was enough, thankyouverymuch.&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;I sat down and counted how many jobs I&amp;rsquo;d had that depended wholly on AWS, and I got 2/6. 3/6 if you raise the bar slightly to &amp;ldquo;Depends heavily on AWS&amp;rdquo;. Everything else used other hosting providers, other cloud providers, or on-premise servers. AWS doesn&amp;rsquo;t even have a monopoly on my career, let alone the internet.&amp;#160;&lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:4&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;I must admit that I was a bit baffled to find out that ZeroHedge got blocked by Australia during the Christchurch Mosque Shootings. I remember ZH as putting up a few nutball financial pieces that I found mildly interesting back when I worked in finance, but not something I cared to actually follow. I guess I should&amp;rsquo;ve seen that turn coming, in retrospect.&amp;#160;&lt;a href=&#34;#fnref:4&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:5&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Pun absolutely intended.&amp;#160;&lt;a href=&#34;#fnref:5&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:6&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Electricity is one of the more deregulated utilities in America. In some states consumers have the right to purchase their power from an independent provider, with green energy being a popular choice. This works by separating generation from transmission. If you use this option you end up separating your bill and paying part to the generator, and part to the local monopoly utility company for delivery into your house. It’s possible ISPs could work that way, I don’t know enough about ISP grade hardware to know.&amp;#160;&lt;a href=&#34;#fnref:6&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:7&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;I mean, they did get hacked. If anything else, I bet this hack prevents a comeback.&amp;#160;&lt;a href=&#34;#fnref:7&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:8&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Getting caught using a &lt;a href=&#34;https://twitter.com/okta/status/1348191370528256002&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;&lt;em&gt;trial&lt;/em&gt;&lt;/a&gt;
 version of Okta was both stupid and hilarious.&amp;#160;&lt;a href=&#34;#fnref:8&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:9&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;It’s common to hear a complaint about “but you made that baker make a gay wedding cake”. The theory for anti-discrimination law is that it is based on immutable characteristics, and that the government has a compelling interest to ensure that people aren’t discriminated against because of who they are. These laws apply to things that you can’t control, such as your race and sex, but not to things that you can control such as your political affiliation or speech. The case for state intervention is always weak when viewed individually, I’m sure there were other bakeries available, but strong when you consider the effect in aggregate. America has had periods of history where common prejudice among the majority can effectively lock out minorities from any kind of social or economic interaction or betterment. The state has a compelling interest in preventing that.&amp;#160;&lt;a href=&#34;#fnref:9&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
    </item>
    
    <item>
      <title>Two Open Source Models</title>
      <link>http://ashtonkemerling.com/posts/two-open-source-models/</link>
      <pubDate>Fri, 10 Apr 2020 06:23:27 -0700</pubDate>
      
      <guid>http://ashtonkemerling.com/posts/two-open-source-models/</guid>
      <description>&lt;h1 id=&#34;two-open-source-models&#34;&gt;Two Open Source Models&lt;/h1&gt;
&lt;p&gt;I have repeatedly seen clashes between users and maintainers of open source projects over who “owes” whom what, and I believe that these clashes come from a difference in mental models that are not explicitly stated. These clashes result in hurt feelings and the occasional accusation of entitlement or elitism, exacerbating the problem.&lt;/p&gt;
&lt;p&gt;The heart of this disagreement can be simplified as such: are open source maintainers giving a free gift to the community, or are they fulfilling a role that comes with privileges and expectations? Neither model is completely correct, but problematically maintainers and users tend to adhere to different models, causing conflict.&lt;/p&gt;
&lt;h2 id=&#34;open-source-as-gift&#34;&gt;Open Source as Gift&lt;/h2&gt;
&lt;p&gt;To be clear, open source maintainers give a large gift to the community, for which we should all be thankful. Engineers lives have been massively improved by the gift of open source software, including everything from languages to entire operating systems. I do not want to go back to the 1970s when most compilers cost money.&lt;/p&gt;
&lt;p&gt;Given that software engineering is a very expensive skill set, and that tons of for-profit endeavors will be supported by open source efforts, there is a lot of truth to viewing open source contributions as a gift. Every open source maintainer, large or small, could have used that time to either work for profit, or spend that time away from the computer doing other things. That they spent some of their limited time giving away an expensive skill set is something we should be thankful for.&lt;/p&gt;
&lt;p&gt;The problem with viewing open source purely as a gift is that it puts the maintainer up on too much of a pedestal. Open source projects are a two way street; highly successful open source projects depend heavily on community contributions in the form of everything from patches to documentation and advocacy. No open source project succeeds without a large number of unrelated engineers staking out their reputation on projects they did not write.&lt;/p&gt;
&lt;h2 id=&#34;open-source-as-a-role&#34;&gt;Open Source as a Role&lt;/h2&gt;
&lt;p&gt;The other way of thinking about open source projects, especially large ones, is that maintaining them is a role. Like all roles, they come with both privileges and &lt;del&gt;responsibilities&lt;/del&gt; expectations (more on that later). The amount of the former given to the maintainer(s) is partially a function of how well they meet the latter.&lt;/p&gt;
&lt;p&gt;For very large projects, this is typically about some level of responsiveness to community problems and inputs. While not every suggestion should be taken, it is important that the maintainers be seen being somewhat responsive to any legitimate concerns from the community. At the minimum this should involve some level of response to bugs and problems, as well as clear rules and expectations for contributing (more on that later too).&lt;/p&gt;
&lt;p&gt;Why should maintainers do this? Practically speaking, maintainers get social and monetary perks that are in line with how many people use their projects; highly successful projects often land the creators lucrative speaking and consulting opportunities. If a project is going to continue to be successful, it needs to be somewhat responsive to the community; anything else will eventually drive people away.&lt;/p&gt;
&lt;p&gt;Ethically speaking, it’s kind of shitty to encourage your peers to use your project, possibly in production, then turn a cold shoulder to them when they run into problems. People bet companies and careers on non-standard languages and projects; leaving them high and dry when it’s not convenient for you isn’t a great look.&lt;/p&gt;
&lt;h2 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;So, which is right? Neither is completely correct. While maintainers clearly owe their community &lt;em&gt;something&lt;/em&gt;, at least if they want to continue to have a community, the fact that they’re doing this for free also gives them a lot of latitude to ignore some requests. While my gut instinct is that the “role” aspect increases with community size, it’s also true that larger projects took more of the creators time, increasing the “gift” aspect as well.&lt;/p&gt;
&lt;p&gt;While I can’t provide a concrete statement about which model applies when, I think that it’s important that both sides of the conversation understand that the other model exists and is valid too. Users should know that maintainers have given away a lot of free time and can’t (and shouldn’t) accept every single suggestion and bug request from every user, while maintainers should be mindful that end users have taken a bet on their project and they will not continue to have users if they’re totally ignored or abused.&lt;/p&gt;
&lt;p&gt;In short, have some empathy people.&lt;/p&gt;
&lt;h2 id=&#34;ps&#34;&gt;P.S&lt;/h2&gt;
&lt;h3 id=&#34;expectations-vs-responsibilities&#34;&gt;Expectations vs. Responsibilities&lt;/h3&gt;
&lt;p&gt;Open source roles come with expectations, not responsibilities. Responsibilities are expectations backed with the threat of force; fail at your responsibilities at work and get fired. In open source, there is no method of forcing a maintainer to do anything, therefore they have expectations and not responsibilities. If a maintainer does not care if they lose users, there is no meaningful way to force them to change.&lt;/p&gt;
&lt;h3 id=&#34;on-contributions&#34;&gt;On Contributions&lt;/h3&gt;
&lt;p&gt;One of the more tricky areas of open source projects is the subject of contributing code. Some maintainers welcome all additions, while others fear that any external change might muddy their designs.&lt;/p&gt;
&lt;p&gt;While I don’t have an opinion on what contribution model is best, I do think that it’s necessary for every open source project to make the contribution process &lt;strong&gt;crystal&lt;/strong&gt; clear. If your project only accepts changes from the creator, I’d rather know that before spending my time creating patches that will eventually be rejected. Vague rules around contribution only increases the workload of the maintainers while pissing off the community; it’s a lose lose.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Resume</title>
      <link>http://ashtonkemerling.com/resume/</link>
      <pubDate>Sat, 09 Mar 2019 13:52:57 -0800</pubDate>
      
      <guid>http://ashtonkemerling.com/resume/</guid>
      <description>&lt;h1 id=&#34;experience&#34;&gt;Experience&lt;/h1&gt;
&lt;h2 id=&#34;hulu-2020---current&#34;&gt;Hulu (2020 - Current)&lt;/h2&gt;
&lt;p&gt;Hulu is the leading premium streaming service offering live and on-demand TV and movies, with and without commercials. Hulu is the only service that gives viewers instant access to current shows from every major U.S. broadcast network; libraries of hit TV series and films; and acclaimed Hulu Originals. Hulu also streams live news, entertainment and sports.&lt;/p&gt;
&lt;p&gt;At Hulu I lead the DVR team, which is responsible for powering the Cloud DVR feature for Hulu Live TV customers.&lt;/p&gt;
&lt;h2 id=&#34;edmunds-2017---2019&#34;&gt;Edmunds (2017 - 2019)&lt;/h2&gt;
&lt;p&gt;Edmunds.com is one of the world&amp;rsquo;s premier car research and buying websites. First created in 1966, Edmunds&#39; main goal has been making the car buying process easier for the consumer. Based out of beautiful Santa Monica California, Edmunds has consistently been rated one of the best places to work in LA. It also has an &lt;a href=&#34;https://www.youtube.com/watch?v=1aq5T1GCyOA&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;amazing office&lt;/a&gt;
.&lt;/p&gt;
&lt;p&gt;At Edmunds I was a tech lead for a variety of teams, leading a maximum of nine engineers. The most important team I lead was Leads System Engineering (LSE). LSE was responsible for making sure that any lead generated on the Edmunds website was properly stored, protected, and transmitted reliably to our dealer partners. The LSE collection of systems was critical to roughly 30% of Edmunds&#39; revenue, and had not had a permanent team or documentation for years.&lt;/p&gt;
&lt;p&gt;During my leadership over LSE, we made a large number of improvements to the system. We migrated off of an unreliable MongoDB cluster to DynamoDB which made the system faster, cheaper, more reliable, and prepared LSE for active-active traffic years ahead of schedule. We also unified 17 legacy APIs and HTML widgets into two modular APIs and a unified lead form that serves all leads across the Edmunds website. All of this was accomplished by working closely with product teams to reduce the risk of conversion loss.&lt;/p&gt;
&lt;p&gt;Other projects I spearheaded at Edmunds incuded an organization wide secure data storage for PII, and the creation of a configuration API designed to replace an outdated Salesforce configuration code base. Both of these efforts required that I lead teams with cross-functional skillsets, and interface with other teams within the organization that were outside my area of expertise.&lt;/p&gt;
&lt;p&gt;I was also personally involved in both the hiring process and the revamp of the Edmunds hiring process. I helped create a new titling system for all engineers, interviewed dozens of engineers, and standardized the interview process across all engineering disciplines.&lt;/p&gt;
&lt;h2 id=&#34;drw-trading-2015---2017&#34;&gt;DRW Trading (2015 - 2017)&lt;/h2&gt;
&lt;p&gt;DRW trading is one of America&amp;rsquo;s largest principle trading firms. DRW participates in a very wide range of market activities including market making, investment, crypto currency exchange, VC investment, and real estate.&lt;/p&gt;
&lt;p&gt;At DRW I was a senior engineer on the Trading Infrastructure team. TI was responsible for maintaining two mission critical tools: the reference data store and the position store.&lt;/p&gt;
&lt;p&gt;The reference data store contained all relevant details of every single instrument that DRW had ever traded, and then some. This work involved both understanding a wide range of financial products as well as being able to capture the commonalities of instruments offered by different exchanges. We also supported a large number of applications to provide instrument specific calculations, such as option expiration, bond accrued interest calculation, as well as batch jobs to regularly import and process exchange instrument data.&lt;/p&gt;
&lt;p&gt;The trade and position data store involved tracking every single trade made in the organization, and keeping an up to the date record of every single trader&amp;rsquo;s position. This involved verifying every trade, providing a way for errors to be easily corrected, as well as providing the ability for desks to search for and view their trades/positions in a real time format. This data had to be accumulated firm wide for regulatory reasons, as well as segregated out so that nominally competitive desks could not see each other&amp;rsquo;s positions.&lt;/p&gt;
&lt;h2 id=&#34;pivotal-labs-2013---2015&#34;&gt;Pivotal Labs (2013 - 2015)&lt;/h2&gt;
&lt;p&gt;Pivotal Labs is a consultancy firm primarily based out of San Francisco, with satellite offices in a large number of major metropolitan hubs world wide. They offer consultancy services to established companies and startups alike, using techniques like pair programming, agile project management, and TDD to show firms how to work better.&lt;/p&gt;
&lt;p&gt;At Pivotal I worked in a satellite office on their &lt;a href=&#34;http://www.pivotaltracker.com&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Pivotal Tracker&lt;/a&gt;
 product. Pivotal Tracker is an agile project management tool beloved for its opinionated simplicity. Tracker is used universally inside Pivotal and with Pivotal clients, as well as a large number of companies large and small in order to easily track their project&amp;rsquo;s progress.&lt;/p&gt;
&lt;p&gt;At Pivotal I basically fulfilled two roles: backend engineer and frontend engineer.&lt;/p&gt;
&lt;p&gt;The backend of Pivotal Tracker was a heavily customized Ruby on Rails app providing both static management pages, APIs, a rich event log &amp;amp; caching infrastructure, and a heavily customized documentation system. I was involved in adding features, fixing bugs, and overhauling the search system for the backend.&lt;/p&gt;
&lt;p&gt;The frontend of Pivotal Tracker was a Single Page Application (SPA) written in Backbone.js. Well, it is one now, back when I worked there were actually two: classic and next. Another engineer and I spearheaded the project to completely separate the then conjoined classic &amp;amp; next code, fix a large number of show stopping bugs, and eventually release the next codebase out into the wild.&lt;/p&gt;
&lt;p&gt;While at Pivotal I also maintained our CI solutions in Jenkins &amp;amp; CircleCI, and also ran an experiment in using generative based testing to search for hard to reproduce bugs. The latter eventually produced a &lt;a href=&#34;https://www.youtube.com/watch?v=HXGpBrmR70U&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Clojure Conj&lt;/a&gt;
 talk in 2014.&lt;/p&gt;
&lt;h2 id=&#34;narrative-science-2012---2013&#34;&gt;Narrative Science (2012 - 2013)&lt;/h2&gt;
&lt;p&gt;Narrative Science is an AI &amp;amp; Natural Language processing startup based in Chicago Illinois. Their primary product is an algorithm that combines structured data and configuration to produce natural sounding text. There is a high probability that you have read some work from Narrative Science, especially if you are into baseball, stock markets, or sales reports.&lt;/p&gt;
&lt;p&gt;Narrative Science was effectively divided into three sections: product, editorial, and data. Product worked on internal tools, editorial provided the configuration required to make the product work, and data provided the structured data required by editorial. I worked on the data team.&lt;/p&gt;
&lt;p&gt;While on data, I was responsible for maintaining the ELTV processes for a number of external clients. This would involve downloading files from FTP, extracting any data, cleaning it up automatically, and storing it for future use. We also maintained the monitoring for all of these processes, including alerting when the client had not posted files within the expected time period.&lt;/p&gt;
&lt;p&gt;Aside from data, I was involved in Narrative Science&amp;rsquo;s one customer facing product: &lt;a href=&#34;https://quillengage.narrativescience.com/&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Quill for Google Analytics&lt;/a&gt;
, which is now called QuillEngage. Quill was a tool that allowed any user to sign in with their Google account, authorize us to view their Google Analytics data, and produce a weekly report summarizing their current trends in natural language. Since Quill was our only user facing product, it had a completely unique front end web application, run using Python in the Google Compute Engine.&lt;/p&gt;
&lt;h2 id=&#34;onshore-development-2011---2012&#34;&gt;OnShore Development (2011 - 2012)&lt;/h2&gt;
&lt;p&gt;OnShore is a very small web shop that produces and maintains one product: WebCheckout. WebCheckout is designed to allow arts schools to easily loan out their equipment to their students, track the status of their inventory, and assess fees on students for late returns or damaged equipment.&lt;/p&gt;
&lt;p&gt;WebCheckout is interesting in that it&amp;rsquo;s written in Common Lisp. Large sections of the stack are either completely custom, or heavily customized from what is available in the Open Source community. This meant that when issues arose, often the only people capable of helping us were already debugging the problem. I assume that I must have been one of maybe 1,000 professional Common Lisp developers in the world when I worked at OnShore.&lt;/p&gt;
&lt;p&gt;During my time there I was involved in three major projects. The first was to create an internationalization and localization library to prepare the product for sale in the international market. The second was a rewrite of the core scheduling algorithm, reducing some complicated scheduling requests down from an 18 minute average to a 30 second average. And the final was an attempt to rewrite the overly complicated web object based framework to something based on MVC.&lt;/p&gt;
&lt;h1 id=&#34;volunteering&#34;&gt;Volunteering&lt;/h1&gt;
&lt;h2 id=&#34;care-for-real-2012---2014&#34;&gt;Care For Real (2012 - 2014)&lt;/h2&gt;
&lt;p&gt;Loyola University Chicago has a large focus on social justice, and required that most students do volunteering of some sort. I ended up volunteering at a food pantry a quarter mile from campus called Care For Real.&lt;/p&gt;
&lt;p&gt;Originally I was going to involved in moving heavy items and handing out food, two activities that ideally happen often at a food pantry. But once they found out I knew computers, plans quickly changed to me overhauling their records system.&lt;/p&gt;
&lt;p&gt;Food pantries need to keep track of their clients and what they give out with a ton of paperwork. Making sure that every client is sufficiently fed, that resources are equitably used, and that the pantry is properly supplied by the city&amp;rsquo;s food depository is a task that produces a ton of paperwork. Add on top of that regular interviews to check up on the client&amp;rsquo;s health and to refer people to specialist services, all of which produced even more paperwork.&lt;/p&gt;
&lt;p&gt;I was tasked with digitizing this system. First we created an Access 2007 system backed by ODBC and MySQL, since there already were volunteers in the system who knew how to use that. Once this system eventually hit its limit, I ended up creating a completely custom Ruby on Rails web application that could be hosted internally to help streamline the client check in process. We even integrated a receipt printer, so that we could hand clients a receipt for what items they should receive in the back. This helped a &lt;em&gt;lot&lt;/em&gt; with clients who were not fluent in English.&lt;/p&gt;
&lt;p&gt;While I think the system that we created was great, it is sadly no longer in use. The Greater Chicago Food Depository ended up forcing pantries to use their system in order to receive food from the depository. And while I think this is unfortunate, at least the clients of Care For Real are still getting the critical food &amp;amp; services they need.&lt;/p&gt;
&lt;h1 id=&#34;education&#34;&gt;Education&lt;/h1&gt;
&lt;h2 id=&#34;loyola-university-chicago-2008---2012&#34;&gt;Loyola University Chicago (2008 - 2012)&lt;/h2&gt;
&lt;p&gt;I graduated with a B.S. in Computer Science and a B.S. in Mathematics, magna cum laude.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>About</title>
      <link>http://ashtonkemerling.com/about/</link>
      <pubDate>Sat, 09 Mar 2019 13:43:13 -0800</pubDate>
      
      <guid>http://ashtonkemerling.com/about/</guid>
      <description>&lt;p&gt;Programmer, podcaster, fisherman, and nerd extraordinaire. By day I&amp;rsquo;m an engineer, and by night I&amp;rsquo;m a nerd, or is that redundant?&lt;/p&gt;
&lt;p&gt;At my day job I am a manager and engineer working for &lt;a href=&#34;https://www.hulu.com&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Hulu&lt;/a&gt;
 in Boise, Idaho.&lt;/p&gt;
&lt;p&gt;Professionally, my experience is all over the place. I&amp;rsquo;ve worked in old small companies, startups, Dell backed consultancies, and finance. In the mean time I&amp;rsquo;ve written code in Java, C#, Ruby, Javascript, Clojure, Python, and even Common Lisp! And that&amp;rsquo;s only counting the languages that I&amp;rsquo;ve been paid to write in.&lt;/p&gt;
&lt;p&gt;Outside of work my wife and I enjoy getting out in to nature as much as possible. You are as likely to find us hiking or fishing the Sierra Nevadas as you are to find us laying out on a beautiful SoCal beach. We are also a large fan of the fantastic wine and seafood that coastal living has to offer.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>False Novelty</title>
      <link>http://ashtonkemerling.com/posts/false-novelty/</link>
      <pubDate>Wed, 19 Dec 2018 00:00:00 +0000</pubDate>
      
      <guid>http://ashtonkemerling.com/posts/false-novelty/</guid>
      <description>&lt;h1 id=&#34;introduction&#34;&gt;Introduction&lt;/h1&gt;
&lt;p&gt;The internet is starting to worry me.&lt;/p&gt;
&lt;p&gt;This is a problem for me. I make my money on the internet, and I also spend a
lot of time on it for entertainment. Beginning to worry about the internet is a
bit like looking at your pet kitten and realizing that those tiger stripes are
real and not merely an adorable coloration. It&amp;rsquo;s a slow growing fear that you
might be living with something much more dangerous than you thought.&lt;/p&gt;
&lt;p&gt;What this post is not about is handwringing about “kids these days”, or looking
back on a (fake) idyllic past. Humans have been capable of shocking brutality
for a very long time. Ask any student of history. Many of the flaws in the
internet are actually the flaws of humanity laid bare under the scrutiny of us
all. Next time you worry about incivility on Twitter, think about all those
“nice” old folk who had smiling pictures taken around a lynching victim back in
the 1950s.&lt;/p&gt;
&lt;p&gt;Nor am I particularly worried about short form entertainment and pining for the
days when people read books. Our elders have been warning about how the new form
of entertainment since back when books were the new form of entertainment. If
books didn&amp;rsquo;t destroy humanity, why should the internet?&lt;/p&gt;
&lt;p&gt;What I am concerned about is the rise of on demand, algorithmically customized
entertainment available in your pocket. What Facebook, Twitter, Reddit, YouTube
etc. are changing into is something subtly different and more scary than just
the &amp;ldquo;social media&amp;rdquo; that we&amp;rsquo;ve gotten used to over the past decade. The ubiquity
and algorithmic nature of these sites have wide reaching and subtle impacts that
we&amp;rsquo;re just beginning to notice.&lt;/p&gt;
&lt;h2 id=&#34;on-novelty&#34;&gt;On Novelty&lt;/h2&gt;
&lt;p&gt;It&amp;rsquo;s a stretch to say that curiosity makes us human, but we are definitely one
of the more curious species around. Humans need novelty; a bored human is a
miserable human.&lt;/p&gt;
&lt;p&gt;What&amp;rsquo;s less understood is that novelty also gives us our past. There is
surprising little correlation between the objective amount of time your life
takes and the subjective amount of time that you experience. Any school child
desperate for the bell to ring is intimately familiar with the basics of this
process. It turns out the exact same thing works for memories: unique
experiences create strong memories that anchor other memories into place. These
anchors affect the subjective amount of time that your memory takes up,
expanding or compressing your experienced timeline accordingly.&lt;/p&gt;
&lt;p&gt;Thus a bored human is both emotionally unhappy, and is also robbed of their
subjective lifetime, with their own memories compressed into the blink of an
eye.&lt;/p&gt;
&lt;h2 id=&#34;on-collective-experiences&#34;&gt;On Collective Experiences&lt;/h2&gt;
&lt;p&gt;Collective experiences create bonds among people. The stronger the experience,
the stronger the formed bond is.&lt;/p&gt;
&lt;p&gt;This is why sports fans can bond around a specific game or championship, or why
war buddies are often very close despite differences that would normally drive
people apart. It&amp;rsquo;s also why people of the same generation tend to be closer than
people of different generations, as the same generation cohort will share the
same memories of culturally and historically important events. People of my
generation remember where they were on 9/11, an experience not shared with most
of Gen Z.&lt;/p&gt;
&lt;p&gt;We once lived in a time and place where culturally important experiences were
shared experiences by default. There simply wasn&amp;rsquo;t the surplus money to create a
large number of plays, operas, or movies for the vast majority of human history.
For the past 400 years if you ever got to see a play, there is a high chance
that it was Shakespeare. When Americans went to the box office in previous
century, there were a limited number of movies available. When the original Star
Wars was released into theaters, it&amp;rsquo;s estimated that 40% of the American public
went to go see it. That&amp;rsquo;s one hell of a shared experience!&lt;/p&gt;
&lt;h1 id=&#34;changes&#34;&gt;Changes&lt;/h1&gt;
&lt;h2 id=&#34;a-deluge-of-novelty&#34;&gt;A Deluge of Novelty&lt;/h2&gt;
&lt;p&gt;First, the obvious: the Internet has an effectively infinite capacity for
novelty. On the face of it, this is good! We&amp;rsquo;ve established that humans need
novelty, so an infinite fire hose if it cannot hurt, right?&lt;/p&gt;
&lt;p&gt;Haha, what kind of article do you think this is? In a classic case of &amp;ldquo;too much
of a good thing is actually a bad thing&amp;rdquo;, it appears that our need for novelty
can absolutely be overrun. One novel experience every few days stands out in the
human memory. One hundred similarly novel experiences just blend together into
nothingness.&lt;/p&gt;
&lt;p&gt;An analogy. Most wealthy humans eat two different types of meals: meals for
sustenance and meals for enjoyment, with the latter being much more expensive.
Fancy meals are often dinner, and meals like breakfast and lunch tend to be in
the &amp;ldquo;calories so I don&amp;rsquo;t die please&amp;rdquo; variety.&lt;/p&gt;
&lt;p&gt;With this in place: imagine the last nice dinner you had. If you&amp;rsquo;re like me, you
can remember the wine you had, the appetizer, and the entree. Now, imagine what
you had for breakfast &lt;em&gt;yesterday&lt;/em&gt;. If you&amp;rsquo;re anything like me, you probably can
barely remember what you had for breakfast this morning, let alone yesterday.&lt;/p&gt;
&lt;p&gt;Now, what do you think would happen if you had a fancy dinner every night? How
long would it take before Steak Tartar and a top shelf Pinot Noir would just
blend into the background of your everyday existence?&lt;/p&gt;
&lt;p&gt;For whatever reason, everything you view on Reddit and Twitter seems to fool
your novelty sensors. Like McDonald&amp;rsquo;s famous &amp;ldquo;disappearing calories&amp;rdquo;, these
sites fool you into thinking you&amp;rsquo;re discovering new experiences, but leave
behind a vast nothingness titled &amp;ldquo;Reddit was here&amp;rdquo;. The instantly available and
endless stream of funny gifs, pictures, and videos quickly became the nightly
New York Strip Steak; theoretically nice, but actually quite mundane.&lt;/p&gt;
&lt;h2 id=&#34;fake-companionship&#34;&gt;Fake Companionship&lt;/h2&gt;
&lt;p&gt;Social media creates a false feeling of community and connection.&lt;/p&gt;
&lt;p&gt;First, Connection and community require repeated interactions with a group of
people. One off comments and flame wars don&amp;rsquo;t count, doubly so if it&amp;rsquo;s the only
interaction you have with a given username. Comments might be fun to read and
write, but they do not reliably produce the feeling of connection that our
deeply social species needs.&lt;/p&gt;
&lt;p&gt;Second, there is a &lt;em&gt;massive&lt;/em&gt; difference between face to face and verbal
communication. Larger still between face to face and textual communication.
Humans use inflection and facial expressions to communicate the vast majority of
what we&amp;rsquo;re thinking and how we&amp;rsquo;re feeling to each other, and the conversion to
text strips it all away. We&amp;rsquo;ve dealt with this in the form of books and mail for
quite a long time, but that text was supplemental to daily interactions. Now
text based communication is beginning to replace face to face interactions all
across society, leaving a people largely misunderstood or unheard.&lt;/p&gt;
&lt;p&gt;And finally, these shallow communities create a false sense of majority
experience. Humans naturally want to feel like they&amp;rsquo;re with the majority, a
holdover from the days when ostracization meant certain death. Online
communities with inscrutable usernames make it &lt;em&gt;feel&lt;/em&gt; like you&amp;rsquo;re with the
majority, even when you aren&amp;rsquo;t. At its most benign this creates moments when
&amp;ldquo;everyone&amp;rdquo; knows about a meme or idea, when in reality only a tiny number of
people have any clue what you&amp;rsquo;re talking about. At the least benign this is how
you create extremists.&lt;/p&gt;
&lt;h2 id=&#34;the-paradox-of-choice&#34;&gt;The Paradox of Choice&lt;/h2&gt;
&lt;p&gt;Customized entertainment used to be shockingly rare, to the point where it
basically never happened. For the vast majority of humans over the vast majority
of time you either made your own entertainment (sport, exploration, partying,
etc.), or it was given to you by a gatekeeper (plays, music, Hollywood). Only
the richest of the rich could afford custom entertainment, including the kings
and highest nobles.&lt;/p&gt;
&lt;p&gt;And you know what? It seems to have ruined some of them. Boredom and depression
are not uncommon historical nobility, with the bored prince being a trope for a
good reason. There&amp;rsquo;s a reason why the Buddha was said to find the endless
pleasures of his father&amp;rsquo;s palace to be empty and unfulfilling.&lt;/p&gt;
&lt;p&gt;I strongly suspect that this has something to do with the &lt;a href=&#34;https://en.wikipedia.org/wiki/The_Paradox_of_Choice&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Paradox of
Choice&lt;/a&gt;
. Knowing that some
form of entertainment was literally customized for you allows the human brain to
demand utter perfection, with entirely predictable results.&lt;/p&gt;
&lt;p&gt;Don&amp;rsquo;t get me wrong, kings had it better than their serfs. Between starving to
death and not, I&amp;rsquo;ll take “not” every time. But if you&amp;rsquo;re looking for a surefire
road to a good life, having a court full of people trying to curry your favor
and entertain you does not seem to be an effective strategy.&lt;/p&gt;
&lt;p&gt;Now with smart phones, we all carry a digital court in our pocket, ready to
serve up entertainment at any moment. This digital court is watching our every
move, constantly tweaking what it sends our way in order to please us, far more
diligent and skilled than any court of old. I wonder how it&amp;rsquo;ll go this time
around?&lt;/p&gt;
&lt;p&gt;Except, the comparison isn&amp;rsquo;t quite correct. We do have customized entertainment,
but it&amp;rsquo;s not for us. The court was trying to please the king, the algorithm is
trying to engage us, not entertain us.&lt;/p&gt;
&lt;p&gt;This distinction is subtle, but critical. The point of the social media is to
sell ads, full stop. The only success metric is how long you stare at the app,
which converts directly to ad revenue. This metric is euphemistically called
&amp;ldquo;engagement&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;If the company can enrich your life while increasing engagement, that&amp;rsquo;s a
fantastic win win. If the company can hurt you while increasing engagement
further, then they will do that instead. It&amp;rsquo;s not that the companies are willing
to hurt you to increase engagement, it&amp;rsquo;s that your well being doesn&amp;rsquo;t even
factor into the equation. Any company that&amp;rsquo;s foolish enough to stop and worry
about this is quickly overtaken by the social site without such scruples&lt;/p&gt;
&lt;p&gt;You might be tempted to assume that humans would never be so foolish as to
engage in behavior that makes them miserable, and you would be completely wrong.
Observe the number of people around you who regularly trade long term happiness
for short term pleasure, even when they express a desire to stop. This includes
everyone from the office worker who wishes they could stop eating that last
cupcake all the way to the addict who knows they&amp;rsquo;re dying slowly but just cannot
stop.&lt;/p&gt;
&lt;p&gt;You might think that comparing social media to a heroin addict is too much, and
maybe that&amp;rsquo;s fair. Nobody to my knowledge has died because of Instagram, at
least not directly. But ask yourself, are you actually &lt;em&gt;happy&lt;/em&gt; when you&amp;rsquo;re
staring at Instagram, Reddit, or Twitter? Is there a little voice in the back of
your head saying that maybe you should stop? To this day it still stuns me how
many people I personally know who wish they could stop using site X, but end up
spending &lt;em&gt;hours&lt;/em&gt; a day using it.&lt;/p&gt;
&lt;h2 id=&#34;consequences&#34;&gt;Consequences&lt;/h2&gt;
&lt;p&gt;Change is neither inherently good or bad, it just is. I personally find the
argument of &amp;ldquo;change, therefore panic&amp;rdquo; unconvincing, so that&amp;rsquo;s not what I&amp;rsquo;m
trying to say here. What I am asserting is that I&amp;rsquo;m noticing not just changes in
people&amp;rsquo;s choices in entertainment, but changes in people&amp;rsquo;s overall personality
and behavior that I find distressing. I worry that these changes are resulting
in people less capable of handling the challenges that life sends their way, and
less happy with the outcomes of their own choices.&lt;/p&gt;
&lt;p&gt;The biggest that I&amp;rsquo;ve seen personally is the loss of focus and the need for
constant entertainment, almost like a collective ADD. When entertainment stopped
being something that you went and did and became something ubiquitous, it seems
that we lost our ability to tolerate any period of silence.&lt;/p&gt;
&lt;p&gt;The test for this is easy: tell me how long you can put your phone away for.
There is a time and a place for both cell phones and entertainment, but that
time and place is not “every second” and “every where”. It&amp;rsquo;s distressing how
many people report a feeling of anxiety when separated from their phone, as if
they&amp;rsquo;ve lost track of what object controls what.&lt;/p&gt;
&lt;p&gt;The most worrying is a diminishing ability to connect with other people. If a
bored human is a miserable human, a lone human becomes a dead human quickly. I
fear that the phone has become more interesting than people, producing a number
of people with crippling social anxiety over their lack of social practice.
Sociologists have noted a marked drop in teen dating, talking, and sexual
behavior in the past decade or so. And while everyone certainly hails the
matching drop in teenage pregnancy and murder, I don&amp;rsquo;t think anyone is
particularly stoked about the matching rise in teenage anxiety, loneliness,
depression, and suicide.&lt;/p&gt;
&lt;h1 id=&#34;recommendations&#34;&gt;Recommendations&lt;/h1&gt;
&lt;p&gt;I honestly don&amp;rsquo;t know.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>No You Probably Don&#39;t Need a Blockchain</title>
      <link>http://ashtonkemerling.com/posts/no-you-probably-dont-need-a-blockchain/</link>
      <pubDate>Wed, 21 Feb 2018 00:00:00 +0000</pubDate>
      
      <guid>http://ashtonkemerling.com/posts/no-you-probably-dont-need-a-blockchain/</guid>
      <description>&lt;h1 id=&#34;on-bitcoins-and-blockchains&#34;&gt;On Bitcoins and Blockchains&lt;/h1&gt;
&lt;p&gt;Oh Bitcoin, the darling of everyone&amp;rsquo;s economic dreams. Some think it&amp;rsquo;ll destroy the fed, others hope it&amp;rsquo;ll kill off the big banks. Some just think it&amp;rsquo;s going to make them rich, others go as far as hoping it&amp;rsquo;ll kill off governments completely. Whatever you happen to hate, Bitcoin is coming to destroy it!&lt;/p&gt;
&lt;p&gt;All of this is complete nonsense, of course. There are enough mutually exclusive dreams about Bitcoin that it&amp;rsquo;s clear that not all of them can come true, possibly even the hopes of easy riches given its unpredictable volatility.&lt;/p&gt;
&lt;p&gt;But even if you don&amp;rsquo;t buy into the dream of buying bitcoins to turn them into Lambos or whatever, chances are you are hearing from every single corner that Bitcoin isn&amp;rsquo;t the future, it&amp;rsquo;s the blockchain! This refrain has been said so many times that even Bitcoin skeptics feel the need to mention that the blockchain will change the world, even if they don&amp;rsquo;t think that Bitcoin itself will. That this refrain becomes louder whenever Bitcoin is dropping vs. USD doesn&amp;rsquo;t seem to worry that many people.&lt;/p&gt;
&lt;p&gt;I personally think all of this blockchain stuff is bunk. I am extremely skeptical that the blockchain is indeed the future, and if there will be any future uses for it I don&amp;rsquo;t think we&amp;rsquo;ve seen it yet. What we have seen instead is a ton of hype and not a small amount of straight up fraud, which I find worrying.&lt;/p&gt;
&lt;h2 id=&#34;a-pesky-disclaimer&#34;&gt;A Pesky Disclaimer.&lt;/h2&gt;
&lt;p&gt;First of all, I am not a financial adviser. If you take any of this as advice as far as what to buy or sell, both of us will be very sad. Well, you probably will be sad, I will be annoyed if you bug me about it. If you want legit financial advise, go find an actual financial adviser and &lt;em&gt;pay them&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Secondly, predicting the future is &lt;em&gt;hard&lt;/em&gt;. While I am confident that I have not seen any uses for the technologies discussed yet, I am not foolish enough to think that there is a 0% chance that one ever will. I will lay out why I think it&amp;rsquo;s unlikely, but only time will tell.&lt;/p&gt;
&lt;h1 id=&#34;so-what-_is_-a-blockchain-anyways&#34;&gt;So, What &lt;em&gt;is&lt;/em&gt; a Blockchain Anyways?&lt;/h1&gt;
&lt;p&gt;A blockchain is a way of recording a series of transactions in a publicly visible and immutable way. Individual transactions are created with private encryption keys, and then bundled into blocks. Each block is then publicly verified against some sort of algorithm, typically one that involves a lot of computational power to get done. Each verified block contains a reference to the previous block, thus creating a chain of blocks, or a blockchain. The idea is that blocks are very expensive to create, but very cheap to check. If you wish to check the balance or history of a given bitcoin address (&amp;ldquo;wallet&amp;rdquo;), then you merely need to scroll backwards through all the blocks and check for any transaction that references that address.&lt;/p&gt;
&lt;p&gt;The basic idea is that the verification of any transaction is essentially trustless, there doesn&amp;rsquo;t need to be any central authority to provide the record of any transaction. All you need is a copy of the blockchain in order to verify any past transaction, should you wish to do so. If you wish to do any transaction on the blockchain, all you need is a copy of the private key for a given wallet. These can be stored in a variety of ways in software or hardware. The people verifying blocks will facilitate your transaction without you or them knowing who each other is.&lt;/p&gt;
&lt;h2 id=&#34;so-why-the-talk-of-blockchains-instead-of-bitcoin&#34;&gt;So, Why the Talk of Blockchains Instead of Bitcoin?&lt;/h2&gt;
&lt;p&gt;Because Bitcoin uses &lt;em&gt;a&lt;/em&gt; blockchain, but it isn&amp;rsquo;t &lt;em&gt;the&lt;/em&gt; blockchain. A blockchain effectively consists of the rules of the chain, the current chain, and all the participants in it. The chain itself is the combination of the starting block, and the longest accepted chain of transactions. This is why there are so-called altcoins, which are blockchain currencies that use slightly different rules or a different initial starting block from the blockchain.&lt;/p&gt;
&lt;p&gt;More interestingly still are cases where sections of a blockchain decide that a specific block was invalid, either for security or political reasons. These create a so-called hard fork, where two competing blockchains exist that share a large section of their history. A good example of this is the ever controversial &lt;a href=&#34;https://en.wikipedia.org/wiki/Bitcoin_Cash&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Bitcoin Cash&lt;/a&gt;
, which was created to overcome perceived deficiencies in Bitcoin itself. If you owned Bitcoin before the fork in August of 2017, then you now own an equal amount of Bitcoin and Bitcoin Cash. Whether or not you think this is economically sound is up to you.&lt;/p&gt;
&lt;h1 id=&#34;so-why-dont-you-like-blockchains&#34;&gt;So, Why Don&amp;rsquo;t You Like Blockchains?&lt;/h1&gt;
&lt;p&gt;I think blockchains are a novel combination of existing technologies, what I am not convinced of is their long term utility. While it&amp;rsquo;s been fun to watch a speculative bubble from around cryptocurrencies and their related companies, to my eyes most attempts to expand the blockchain beyond that bubble strike me as foolish at best.&lt;/p&gt;
&lt;h2 id=&#34;immutability-woes&#34;&gt;Immutability Woes&lt;/h2&gt;
&lt;p&gt;Blockchains are by their very design immutable. Barring extreme measures, any transaction entered into them is permanent and irreversible. For financial systems this has a lot of obvious drawbacks: fraudulent or mistaken transactions cannot be undone. Ebay purchaser did not deliver? Tough. Someone held you &lt;a href=&#34;https://www.ccn.com/man-held-gunpoint-bitcoin-comes-forward/&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;hostage&lt;/a&gt;
 until you sent them bitcoin? Tough. Private key hacked, or hard drive destroyed? That&amp;rsquo;s unfortunate for you. The only way to recover bad bitcoin transactions is to convince everyone to do a hard fork, and needless to say that the bar for that is very very high.&lt;/p&gt;
&lt;p&gt;But that&amp;rsquo;s just finance, what about industry? It turns out, that there&amp;rsquo;s very few systems that truly benefit from an inability to amend or update transactions. Humans bungle input into computers all the time, there&amp;rsquo;s a whole sector of the economy (customer service) designed to help deal with that. But in an immutable system, it is literally impossible to undo anything written to the blocks. The only possible way to somewhat reverse a bad transaction is to literally make the inverse transaction the next time around, which would involve convincing the opposite party to cooperate. This would rapidly clutter up the chain full of &amp;ldquo;oops&amp;rdquo; transactions, which would pretty quickly make you wonder why you&amp;rsquo;re bothering at all.&lt;/p&gt;
&lt;h2 id=&#34;that-pesky-real-world-thing&#34;&gt;That Pesky Real World Thing&lt;/h2&gt;
&lt;p&gt;One of the most common proposed usages of blockchain is to track the shipment of real world goods, including everything from food to diamonds. On the surface this sounds great, you could easily and trustlessly prove that the shiny rock in your beloved&amp;rsquo;s ring wasn&amp;rsquo;t mined by children in a war torn region, fantastic!&lt;/p&gt;
&lt;p&gt;The problem is that computers are not the real world. Currently blockchains have a very hard time affecting even digital systems that are not on the blockchain, which is why centralized exchanges exist to facilitate buying bitcoin with USD/EUR/etc. Actually trying to make computers in general reflect the real world is a very hard task, and the blockchain does nothing to solve this issue.&lt;/p&gt;
&lt;p&gt;Imagine that you are a blood diamond distributor. You know that rich westerners love diamonds, but feel a bit bad about children being hurt and killed to mine these conflict diamonds. You have a huge incentive to simply lie to the computer to create a fraudulent paper trail for these diamonds, thus generating a higher market value for them. There&amp;rsquo;s nothing about the blockchain that prevents humans from lying or mistakenly entering the wrong values, and the immutable nature of blockchains makes the cost of mistakes oh so much higher.&lt;/p&gt;
&lt;p&gt;Don&amp;rsquo;t bother thinking about secure hardware at verified locations. At its heart blockchains only require a password to operate, as once you have the private key you can create transactions trivially. If media pirates can extract decryption keys from BluRay players, I guarantee you that diamond smugglers will be able to figure this out too. Once the hardware is in the attackers hands, it is only a matter of time until they strip it down to extract the keys.&lt;/p&gt;
&lt;p&gt;The only way around this is to have a trusted neutral party verifying that goods come from exactly where they claim to be from. Not only does this fly in the face of the &amp;ldquo;trustless&amp;rdquo; idea above, but handing said employee the ability to create immutable &amp;ldquo;this diamond is legit&amp;rdquo; records puts that employee in way more danger than need be. There&amp;rsquo;s literally nothing about this system that&amp;rsquo;s superior to what we already have.&lt;/p&gt;
&lt;h2 id=&#34;power--motivation&#34;&gt;Power &amp;amp; Motivation&lt;/h2&gt;
&lt;p&gt;Blockchains typically use the &amp;ldquo;Proof of Work&amp;rdquo; system, where multiple participants try to solve a difficult problem in order to certify a block to be valid. The problem is hard to prevent one person from controlling too much of the mining (computational) pool. This is one of the reasons why Bitcoin itself currently consumes roughly as much power as Delaware while processing about 4 transactions a second.&lt;/p&gt;
&lt;p&gt;Problem: that much electricity is very expensive, as is all of the specialized hardware required to do it. Those that do the work, miners, are commercial operations and expect to be rewarded for their effort. With Bitcoin and other currencies, this reward is the currency itself. The first miner that solves the problem is rewarded with a few Bitcoins, hence the unkind comparisons to Ponzi or MLM schemes. In any non-monetary application, these miners will need to be compensated to do the work running the blockchain. Given the inefficiency of Proof of Work, this will be orders of magnitude more expensive than a similarly sized centralized solution.&lt;/p&gt;
&lt;p&gt;There are two solutions to this. Offer miners a token of some sort for their work, or run all the hardware yourself. The former is the basis of many ICOs, and most have more than a whiff of fraud about them. The latter is basically just a really crappy traditional system with some fancy terminology and a very expensive power bill.&lt;/p&gt;
&lt;h3 id=&#34;proof-of-stake&#34;&gt;Proof of Stake&lt;/h3&gt;
&lt;p&gt;There&amp;rsquo;s an alternative system to Proof of Work, which is Proof of Stake. In Proof of Stake the person holding the most old currency is selected as the person who will validate the latest block. Rather than each validator getting paid a set amount of new coins, they are paid a fee by everyone hoping to transact in order to validate the block. Rather than keeping the longest chain as the most valid, since the longest chain in Proof of Work is the most mined, the chain with the most old money in it is determined to be valid in Proof of Stake.&lt;/p&gt;
&lt;p&gt;Proof of Stake solves some, but not all, of the most egregious problems with the current Proof of Work system. The power and silicon bill would be significantly lower, but not necessarily free. You&amp;rsquo;d still need to pay people to use their phone/computer/whatever to run transactions on it. The chain would also run more transactions, better than the miserable 4/s on bitcoin, but this would only increase the size of the overall chain. Remember, every transaction &lt;em&gt;ever&lt;/em&gt; stays on the blockchain permanently. The Bitcoin blockchain is currently 157GB in size, and that&amp;rsquo;s at a very low transaction speed. The idea of everyone mining on their phone is just laughable.&lt;/p&gt;
&lt;p&gt;Also, Proof of Stake doesn&amp;rsquo;t improve the real world interface or immutability problems above.&lt;/p&gt;
&lt;h2 id=&#34;scale&#34;&gt;Scale&lt;/h2&gt;
&lt;p&gt;To be blunt, the performance of basically all blockchain systems today is garbage. The limited number of transactions that can fit into a block, and the amount of work it takes to prove a block means that blockchain systems using Proof of Work limits their maximum throughput to very low numbers. Bitcoin for example can handle on average 3-4 transactions a second, tops. Ethereum does better in the 15-20 a second range. Both pale in comparison to the average 1,667 transactions a second Visa handles per second based on their reported daily volume, with their peak volume probably being higher. To simplify, Visa can handle the transactions of an good sized nation state, bitcoin can handle the transactions of a few Costcos.&lt;/p&gt;
&lt;p&gt;I question how many industrial systems are worth spending the electricity on and need a transaction volume in the single digits a second range. Probably not many.&lt;/p&gt;
&lt;p&gt;Note: There are some plans to improve Bitcoin&amp;rsquo;s transaction speed, mostly by ditching the blockchain itself for all but the rarest of cases. Given that these solutions will appear &lt;em&gt;any day now&lt;/em&gt; makes me doubt that they&amp;rsquo;re actually viable. These also include a lot of serious safety drawbacks that are not worth getting into here.&lt;/p&gt;
&lt;h2 id=&#34;icos-also-fraud&#34;&gt;ICOs, Also Fraud&lt;/h2&gt;
&lt;p&gt;An interesting sub-genre of the cryptocurrency space are Initial Coin Offerings. This is where someone creates a new cryptographic coin representing a stake in some new venture. These coins are sold off to the highest bidder in order to raise funds, and then eventually the coins will be useful and valuable because magic. Needless to say, there is a &lt;em&gt;ton&lt;/em&gt; of fraud in the ICO space.&lt;/p&gt;
&lt;p&gt;First of all, ICOs are designed to look a lot like Initial Public Offerings (IPOs), except without all those pesky regulations. The fact that many ICOs confer no voting or dividend rights upon the purchaser, and sometimes aren&amp;rsquo;t allowed to be sold according to the contract has yet to dissuade the market. Even the most up and up ICO typically doesn&amp;rsquo;t provide any particular reason why these tokens should be worth anything in future.&lt;/p&gt;
&lt;p&gt;Second, did I mention fraud? It&amp;rsquo;s estimated that up to 10% of the funds put into ICOs has been straight up stolen. Sometimes this is the creator of the ICO collecting bitcoin or whatever for the ICO and never delivering the token, simply replacing their website with &lt;a href=&#34;http://nymag.com/selectall/2018/01/prodeum-scam-cryptocurrency-for-produce-disappears.html&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;a the word &amp;ldquo;penis&amp;rdquo;&lt;/a&gt;
 and laundering the currency. Other times its trivial integer underflow bugs letting someone steal &lt;a href=&#34;https://blog.goodaudience.com/how-800k-evaporated-from-the-powh-coin-ponzi-scheme-overnight-1b025c33b530&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;$800k&lt;/a&gt;
 from a 4chan backed ICO. Half the time the funds are &amp;ldquo;stolen&amp;rdquo;, it is unclear whether or not a third party took it, or whether or not it&amp;rsquo;s an exit scam disguised as a hack.&lt;/p&gt;
&lt;p&gt;Third, very few of these ICOs have even the slightest hint at being related to crypto or valuable in any meaningful way. I&amp;rsquo;ve covered the issue with supply chain blockchains above, but &amp;ldquo;dating on the blockchain&amp;rdquo; and &amp;ldquo;porn on the blockchain&amp;rdquo; is all meaningless bullshit, especially now that nobody really cares what you view in the privacy of your own home anymore. And that&amp;rsquo;s not even considering the insanity that is backing an ICO with &lt;a href=&#34;https://bananacoin.io/&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;bananas&lt;/a&gt;
. No, I am not kidding. They claim that they they&amp;rsquo;ve raised $3,038,361.90, by the way.&lt;/p&gt;
&lt;p&gt;For a good example of the nonsense of ICOs, look into the &lt;a href=&#34;https://www.kerrisdalecap.com/wp-content/uploads/2018/02/Eastman-Kodak-Company-KODK.pdf&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;pre-mortem&lt;/a&gt;
 of Kodak&amp;rsquo;s ICO. The whole plan is bullshit from top to bottom, and includes a non-trivial amount of insider trading. If the Kodak board isn&amp;rsquo;t arrested within the next year for insider trading I will be genuinely shocked.&lt;/p&gt;
&lt;h1 id=&#34;but-what-about-smart-contracts&#34;&gt;But What About Smart Contracts?&lt;/h1&gt;
&lt;p&gt;Ethereum is the one interesting outlier of all of the crypto currencies and blockchain technologies. Ethereum provides the user with a simple, if not problematic, programming language. You can generate programs, or &amp;ldquo;smart contracts&amp;rdquo; (let it not be said that crypto fans are bad at marketing), and run them on the Ethereum blockchain. You have to pay a small fee in ETH, called &amp;ldquo;gas&amp;rdquo; based on the complexity of your program, and the result of the program must be some sort of Ethereum transaction. Thus the value of ETH is nominally backed by the utility of running programs on the Ethereum blockchain itself.&lt;/p&gt;
&lt;p&gt;On the face of it, smart contracts are an interesting idea. You could cut a lot of legal and human complexity/overhead out by making contracts that self execute. Most smart contract fans repeat the phrase &amp;ldquo;code is law&amp;rdquo; in reference to the above idea. Of course, writing programs that produce permanent financial consequences gives me some pretty serious anxiety, and I would hope that most senior engineers would feel the same. And given the number of high profile and high value hacks on Ethereum contracts over the years, it seems like my fears are well founded. That one of the &lt;a href=&#34;https://www.coindesk.com/understanding-dao-hack-journalists/&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;hacks&lt;/a&gt;
 was serious enough to trigger a hard fork in Ethereum implies that I&amp;rsquo;m onto something. It turns out that &amp;ldquo;code is law&amp;rdquo; is a popular idea right up until enough people lose their money.&lt;/p&gt;
&lt;p&gt;On top of that, as best I can tell a &lt;em&gt;large&lt;/em&gt; percentage of Ethereum contracts are literal Ponzi schemes and ICO tokens, the later being easy to bootstrap on top of Ethereum using a protocol called ERC20. This calls into question the long term viability of &amp;ldquo;smart contracts&amp;rdquo;, given that the main usage for this system so far appears to be fraud and refreshingly honest fraud.&lt;/p&gt;
&lt;h1 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h1&gt;
&lt;p&gt;No, you probably don&amp;rsquo;t need a blockchain.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>MDC and Threadpools</title>
      <link>http://ashtonkemerling.com/posts/mdc-and-threadpools/</link>
      <pubDate>Fri, 01 Sep 2017 00:00:00 +0000</pubDate>
      
      <guid>http://ashtonkemerling.com/posts/mdc-and-threadpools/</guid>
      <description>&lt;p&gt;Well written web services must have clear and easy to follow logs. Without good logs a programmer will be unable to diagnose or reproduce problems that might arise. And while many systems will keep logs in their reverse proxy like Nginx, a well written system will also have application/domain specific logs written within the application itself.&lt;/p&gt;
&lt;p&gt;A common goal of application logs is to tie a given log line to a specific request. Because modern servers are multi-threaded, it is possible for multiple requests to be serviced at the same time, resulting in log messages from different requests being intermingled in the log output.&lt;/p&gt;
&lt;p&gt;According to all the documentation I have found, the standard way to resolve this is to use the Mapped Diagnostic Context, or &lt;a href=&#34;https://logback.qos.ch/manual/mdc.html&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;MDC&lt;/a&gt;
. The MDC wraps a thread local hashmap, whose values can be used in your log patterns. On paper you could generate a UUID per request, insert it into the MDC and presto you have a UUID per request in each log line! Since threads are created per request, the MDC will be empty each time.&lt;/p&gt;
&lt;p&gt;Except, that&amp;rsquo;s not really how Java programming works these days. Threads are expensive, and so for the sake of efficiency modern Java aims to minimize the number of threads created. This means using non-blocking IO (NIO), or reusing threads via Thread Pools where possible, which avoids creating new threads. As such there are quite a few number of APIs in Java 8 and some modern web servers that make it trivial to make your code non-blocking and use a common thread pool.&lt;/p&gt;
&lt;p&gt;So, what happens to our MDC when we reuse threads? Well, we end up with the wrong MDC! Here&amp;rsquo;s some code for Java 8 that shows the problem:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; org.slf4j.Logger&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; org.slf4j.LoggerFactory&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; org.slf4j.MDC&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;

&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; java.util.concurrent.CompletableFuture&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;

&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Main&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;

    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; String CORRELATION_ID &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;correlation-id&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; Logger logger&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;

    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; CompletableFuture&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;String&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;stepOne&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;String correlationId&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; CompletableFuture&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;supplyAsync&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
            MDC&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;put&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;CORRELATION_ID&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; correlationId&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
            logger&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;info&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Step One&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Foo&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
        &lt;span style=&#34;color:#f92672&#34;&gt;});&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;

    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; CompletableFuture&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;String&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;stepTwo&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;CompletableFuture&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;String&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; previous&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; previous&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;thenApplyAsync&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;x &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
            logger&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;info&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Step Two&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Bar&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
        &lt;span style=&#34;color:#f92672&#34;&gt;});&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;

    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; CompletableFuture&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;String&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;stepThree&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;CompletableFuture&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;String&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; previous&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; previous&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;thenApplyAsync&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;x &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
            logger&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;info&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Step Three&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Baz&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
        &lt;span style=&#34;color:#f92672&#34;&gt;});&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;

    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; String &lt;span style=&#34;color:#a6e22e&#34;&gt;doAll&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;String correlationId&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; stepThree&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;stepTwo&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;stepOne&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;correlationId&lt;span style=&#34;color:#f92672&#34;&gt;))).&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;join&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;

    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;String&lt;span style=&#34;color:#f92672&#34;&gt;[]&lt;/span&gt; args&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;throws&lt;/span&gt; InterruptedException &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
        logger &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; LoggerFactory&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getLogger&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;Main&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
        doAll&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;correlation-id-one&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
        doAll&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;correlation-id-two&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This code is using the new &lt;code&gt;CompletableFuture&lt;/code&gt; class from Java 8, which is &lt;em&gt;roughly&lt;/em&gt; analogous to Javascript promises. What we do is set the correlation-id, then execute a sequence of asynchronous actions and log the output. If you run this code enough times, you will eventually get the output below:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;12:13:55.465 [ForkJoinPool.commonPool-worker-1] INFO  correlation-id=correlation-id-one - Step One
12:13:55.466 [ForkJoinPool.commonPool-worker-1] INFO  correlation-id=correlation-id-one - Step Two
12:13:55.466 [ForkJoinPool.commonPool-worker-1] INFO  correlation-id=correlation-id-one - Step Three
12:13:55.467 [ForkJoinPool.commonPool-worker-1] INFO  correlation-id=correlation-id-two - Step One
12:13:55.467 [ForkJoinPool.commonPool-worker-1] INFO  correlation-id=correlation-id-two - Step Two
12:13:55.467 [ForkJoinPool.commonPool-worker-2] INFO  correlation-id=correlation-id-one - Step Three

&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Pay attention to the last line, which should have a correlation-id of correlation-id-two. Instead we have an earlier correlation-id because we happened to reuse a thread from earlier. This is an unmitigated disaster, as now you don&amp;rsquo;t have missing logs, you have misleading logs. In a less-simple scenario it would be absolutely impossible to tell whether or not that correlation-id was correct, and you might end up diagnosing bugs that don&amp;rsquo;t exist within your system because of this.&lt;/p&gt;
&lt;p&gt;Java 8 and &lt;code&gt;CompletableFuture&lt;/code&gt; make this much more plausible by making it very easy to use the &lt;code&gt;ForkJoinPool&lt;/code&gt;. &lt;code&gt;CompletableFuture&lt;/code&gt; provides a number of methods to create a new &lt;code&gt;CompletableFuture&lt;/code&gt;, or to take one &lt;code&gt;CompletableFuture&lt;/code&gt; and transform it into another. Most of these methods have at least two signatures: &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;xAsync&lt;/code&gt;. The former will do all the work on the current thread, the latter will automatically use the &lt;code&gt;ForkJoinPool&lt;/code&gt; to execute asynchronously. Optionally you can provide your own &lt;code&gt;Executor&lt;/code&gt;, which might be backed by your own managed thread pool.&lt;/p&gt;
&lt;p&gt;From a performance standpoint, this is amazing. I can separate the business logic from the execution strategies completely. With very minor code changes, sometimes only a method name, I can turn synchronous code to asynchronous or back again. But from a logging stand point this is very fragile. Correctly using the MDC depends on staying on the current thread, and Java 8 makes it very easy to hop threads by design. Worse, the above incorrectness is subtle, so your logs could be left incorrect for years without any immediate impact.&lt;/p&gt;
&lt;h2 id=&#34;recommendations&#34;&gt;Recommendations&lt;/h2&gt;
&lt;p&gt;Don&amp;rsquo;t use the MDC, it&amp;rsquo;s too unsafe. Every time you change threads, you will either get an empty MDC (best case scenario), or MDC values from an older request (worst case scenario). At every single point where you might hop threads, it will be necessary to copy the current MDC settings to a local variable, close over it in your next lambda, and set the new thread&amp;rsquo;s MDC to the correct value before logging on the new thread. If any new asynchronous step is introduced without doing the above work, the correct values are lost for the rest of the request resulting in malformed or incorrect logs. Considering that adding &amp;ldquo;Async&amp;rdquo; to the end of a method name is enough to hop threads, this is a lot of work.&lt;/p&gt;
&lt;p&gt;The easiest solution is to forgo logging request specific identifiers. Remove any reference to the MDC from your code and log configuration, and move on. If your request volume is relatively low, this might be a perfectly reasonable solution for you.&lt;/p&gt;
&lt;p&gt;If you must track every single action down to a single request, you will need to pass around an object for each request which will contain any request specific information you want to log. You can setup logging interfaces that require the &lt;code&gt;Request&lt;/code&gt; object to ensure log uniformity, which means that failing to pass this object will be a compilation error. As a side benefit, these custom logging interfaces would be extremely useful in enforcing consistent log messages, and a good place to inject statistics gathering.&lt;/p&gt;
&lt;h2 id=&#34;addendum&#34;&gt;Addendum&lt;/h2&gt;
&lt;p&gt;The MDC docs are incorrect, with sections of the documentation explicitly referencing out of date information. I draw your attention to the section titled &amp;ldquo;MDC and Managed Threads&amp;rdquo; which says the following:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A copy of the mapped diagnostic context can not always be inherited by worker threads from the initiating thread. This is the case when java.util.concurrent.Executors is used for thread management. For instance, newCachedThreadPool method creates a ThreadPoolExecutor and like other thread pooling code, it has intricate thread creation logic.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;As it turns out, a copy of the mapped diagnostic context will &lt;strong&gt;never&lt;/strong&gt; be inherited by a worker thread. &lt;a href=&#34;https://github.com/qos-ch/logback/commit/aa7d584ecdb1638bfc4c7223f4a5ff92d5ee6273&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;This&lt;/a&gt;
 change guarantees that each thread gets a new, empty MDC. This documentation is correct for older version of logback, but it is not correct anymore. I&amp;rsquo;m sure the quote above was accidentally left in place, as the correct behavior is mentioned at the top of the document. It&amp;rsquo;s just a good reminder to read documentation carefully, and understand that humans can make mistakes in the docs too.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Java Without If</title>
      <link>http://ashtonkemerling.com/posts/java-without-if/</link>
      <pubDate>Thu, 26 Jan 2017 00:00:00 +0000</pubDate>
      
      <guid>http://ashtonkemerling.com/posts/java-without-if/</guid>
      <description>&lt;p&gt;Over the past year my team has been doing something shocking to a lot of
engineers: we&amp;rsquo;re favoring pure Java over Clojure. We aren&amp;rsquo;t rewriting all our
Clojure code, but we definitely prefer Java for green field projects.&lt;/p&gt;
&lt;p&gt;This post is not going to be a compare and contrast between the two, nor am I
going to bash Clojure. Language compare and contrast posts always descend into
flame wars, and it&amp;rsquo;s very easy to confuse the result of hard lessons learned
with the benefits of a new language.&lt;/p&gt;
&lt;p&gt;Instead I&amp;rsquo;d like to highlight a very strange aspect of our new Java development,
and I hope that you&amp;rsquo;re sitting down for this. Except tests, I have fewer than a
dozen &lt;code&gt;if&lt;/code&gt; statements currently committed in our Java codebase.&lt;/p&gt;
&lt;p&gt;It would be easy to assume that we&amp;rsquo;re just using Java&amp;rsquo;s method dispatch to
replace if statements; rather than inspecting data and calling if/else on it,
you can use interfaces and count on the implementation to provide the difference
in behavior. But such an explanation is insufficient: objects don&amp;rsquo;t magically
construct themselves from unstructured data, and Clojure is not without its own
dynamic dispatch &lt;a href=&#34;https://clojure.org/reference/multimethods&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;facilities&lt;/a&gt;
.&lt;/p&gt;
&lt;p&gt;Ultimately the real explanation for this strange code design lies in my
colleague&amp;rsquo;s extremely exceptional &lt;a href=&#34;https://github.com/palatable/lambda&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Lambda&lt;/a&gt;

library. It contains a lot of things that a Haskell/Scala developer would
recognize such as Either types, function utilities, coproducts, etc. etc.&lt;/p&gt;
&lt;p&gt;In particular I&amp;rsquo;d like to draw your eye to the Either type, which has replaced
the vast majority of our explicit &lt;code&gt;if&lt;/code&gt; calls. Either is the logical
successor to the Java
8 &lt;a href=&#34;https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html&#34;target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;&gt;Optional&lt;/a&gt;

type. Optional represents the presence of a value of type &lt;code&gt;T&lt;/code&gt; with
&lt;code&gt;Optional::of&lt;/code&gt;, or it&amp;rsquo;s absence with &lt;code&gt;Optional::empty&lt;/code&gt;. Either on the
other hand is parameterized to two values, L and R, and represents the presence
of either a value of type L, &lt;em&gt;or&lt;/em&gt; a value of type R.&lt;/p&gt;
&lt;p&gt;Why is this a logical extension of &lt;code&gt;Optional&lt;/code&gt;? Because while Optional is
used to represent a result that may have no value (replacing a null), Either is
used to represent a result that might have been a failure, replacing a thrown
exception, with convention being that left side values represent failure and
right side values representing success.&lt;/p&gt;
&lt;p&gt;So, what does that buy us? Well, consider what Optional gets us in the following code snippets.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;String x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Helper&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;functionOne&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;x &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
  x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Helper&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;functionTwo&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;x&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
  x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Helper&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;functionThree&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;x&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
  &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;x &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;...&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;Optional&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;String&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Helper&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;functionOne&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;
                           &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;map&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;Helper&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;functionTwo&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
                           &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;flatMap&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;Helper&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;functionThree&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Optional gives us the ability to say &amp;ldquo;if a value exists, apply this function to
it&amp;rdquo; repeatedly. It also gives us the ability to chain successive calls that
return Optionals together with the &lt;code&gt;flatMap&lt;/code&gt; function, eliminating the need
for unsightly and error prone manual null checks. It&amp;rsquo;s also safe for &lt;code&gt;map&lt;/code&gt;
and &lt;code&gt;flatMap&lt;/code&gt; to go from &lt;code&gt;Optional&amp;lt;A&amp;gt;&lt;/code&gt; to &lt;code&gt;Optional&amp;lt;B&amp;gt;&lt;/code&gt;, which might
eliminate the need for intermediate variables in your code.&lt;/p&gt;
&lt;p&gt;Either give us much of the same, but with the ability to represent &lt;strong&gt;why&lt;/strong&gt; the
computation failed with left values, along with the ability to chain together
functions working on an Either type. All of the greatest hits of functional
programming are provided for Either, including &lt;code&gt;map&lt;/code&gt;, &lt;code&gt;flatMap&lt;/code&gt;, and &lt;code&gt;filter&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;As a concrete example, imagine a hypothetical JSON parsing library. Parsing is
tricky business, you&amp;rsquo;re all but guaranteed that a failure will happen at
runtime. So how do you handle it? Previously you had 4 choices.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;return null&lt;/li&gt;
&lt;li&gt;return Optional&amp;lt;ParsedType&amp;gt;&lt;/li&gt;
&lt;li&gt;checked exception&lt;/li&gt;
&lt;li&gt;unchecked exception&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Null is obviously bad, and unchecked exceptions are also risky. Checked
exceptions guarantee that someone will deal with the issue, but they are
extremely annoying, and might result in disparate and different exception
handlers all over the place. Optional is nice, it&amp;rsquo;s safer than null and marks in
the type signature that failure is an option, but it&amp;rsquo;s a bit lacking on
explaining &lt;strong&gt;why&lt;/strong&gt; a failure occurred.&lt;/p&gt;
&lt;p&gt;What if instead this library returned &lt;code&gt;Either&amp;lt;Exception, JsonNode&amp;gt;&lt;/code&gt;, or even
&lt;code&gt;Either&amp;lt;Set&amp;lt;String&amp;gt;, JsonNode&amp;gt;&lt;/code&gt;? The potential for failure is in the type
signature again, we don&amp;rsquo;t need a try/catch, but if we want the unwrapped
JsonNode we have to deal with the potential for a left value. And any functions
we have that operate only on JsonNode can be passed in using the &lt;code&gt;map&lt;/code&gt;
function, making chaining a breeze.&lt;/p&gt;
&lt;p&gt;Better still we can write other functions that might fail in this form, such as
JSON validation, so that we can chain them together using &lt;code&gt;flatMap&lt;/code&gt;. If the
json parsing has failed, flatMap does nothing (it only works on right values),
replacing the need for successive null checks, nested try/catch blocks, or
complicated state checking during exception handling to return the correct
value.&lt;/p&gt;
&lt;p&gt;As a result of all this, you can easily imagine a JSON API endpoint looking
something like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; HttpResponse &lt;span style=&#34;color:#a6e22e&#34;&gt;handle&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;HttpRequest request&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; JsonParser&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;parse&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;request&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getBody&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;())&lt;/span&gt;
                     &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;flatMap&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;Validator&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;validate&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
                     &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;map&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;ServiceObject&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;businessLogic&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
                     &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;flatMap&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;JsonGenerator&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;generate&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
                     &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;match&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;l &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; HttpResponse&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;internalServerError&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;l&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getMessage&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()),&lt;/span&gt;
                            r &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; HttpResponse&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ok&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;l&lt;span style=&#34;color:#f92672&#34;&gt;));&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;All the potential failure cases are covered by returning an Either rather than
throwing an exception. The very last step is &lt;code&gt;match&lt;/code&gt;, which takes two
functions to unify a potential left or right value to the exact same type, which
in this case is &lt;code&gt;HttpResponse&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id=&#34;what-does-this-get-me&#34;&gt;What does this get me?&lt;/h3&gt;
&lt;p&gt;Well, first off I think it&amp;rsquo;s beautiful. I know that&amp;rsquo;s a subjective call, but the
data flowing neatly from top to bottom without huge nesting if cases and early
return values is very aesthetically pleasing to me.&lt;/p&gt;
&lt;p&gt;More functionally it&amp;rsquo;s easier to refactor with the help of the compiler. If I
want to add different return status codes to match different scenarios, the
compiler helps me out a lot more than if I&amp;rsquo;m adding an extra return case. If I
convert the left side to a HttpResponse early, the compiler will helpfully
remind me that the later flatMap calls cannot change &lt;code&gt;Either&amp;lt;HttpResponse, JsonNode&amp;gt;&lt;/code&gt; to &lt;code&gt;Either&amp;lt;Exception, BusinessObject&amp;gt;&lt;/code&gt;. Such changes are easily
fixed once the compiler has pointed it out, but extremely hard to find on your
own.&lt;/p&gt;
&lt;p&gt;But most fundamentally is that we&amp;rsquo;ve encoded our code&amp;rsquo;s states in the type
system, not variable states. The potential for JSON parsing to fail is encoded
in its type, not in the potential for a variable to null, or false, or for an
exception to have been thrown. You&amp;rsquo;re leaning on the compiler to tell you if
you&amp;rsquo;ve handled the failure cases properly, as the code won&amp;rsquo;t compile otherwise.
Now instead of testing for runtime exceptions you only test to make sure that
your business logic is correct.&lt;/p&gt;
&lt;p&gt;If you&amp;rsquo;ve ever been interested in what the Haskell or Scala developers have been
talking about with functional type safety, I&amp;rsquo;d highly recommend taking a look at
Lambda to get a taste of it in Java.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>